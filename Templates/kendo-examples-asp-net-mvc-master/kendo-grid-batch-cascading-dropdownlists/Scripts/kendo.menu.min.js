/*
* Kendo UI Complete v2012.3.1210 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
(function(e,t){function n(e,t){return e=e.split(" ")[!t+0]||e,e.replace("top","up").replace("bottom","down")}function i(e,t,n){e=e.split(" ")[!t+0]||e;var i={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]},r=/left|right/.test(e);return r?(i.origin=["top",e],i.position[1]=l.directions[e].reverse):(i.origin[0]=e,i.position[0]=l.directions[e].reverse),i.origin=i.origin.join(" "),i.position=i.position.join(" "),i}function r(t,n){try{return e.contains(t,n)}catch(i){return!1}}function o(t){t=e(t),t.addClass("k-item").children(w).addClass(O),t.children("a").addClass(H).children(w).addClass(O),t.filter(":not([disabled])").addClass(z),t.filter(".k-separator:empty").append("&nbsp;"),t.filter("li[disabled]").addClass(G).removeAttr("disabled").attr("aria-disabled",!0),t.children("a").filter(":focus").parent().addClass(N),t.filter("[role]").length||t.attr("role","menuitem"),t.children("."+H).length||t.contents().filter(function(){return!(this.nodeName.match(C)||3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll("<span class='"+H+"'/>"),a(t),s(t)}function a(t){t=e(t),t.find("> .k-link > .k-icon").remove(),t.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var t=e(this),n=t.parent().parent();t.append("<span class='k-icon "+(n.hasClass(I+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function s(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(P),t.filter(".k-last:not(:last-child)").removeClass(T),t.filter(":first-child").addClass(P),t.filter(":last-child").addClass(T)}var l=window.kendo,p=l.ui,c=l.support.touch&&l.support.mobileOS,d=c||l.support.pointers,u=l.support.mousedown,m=l.support.click,h=e.extend,f=e.proxy,g=e.each,v=l.template,k=l.keys,_=p.Widget,C=/^(ul|a|div)$/i,b=".kendoMenu",w="img",x="open",I="k-menu",H="k-link",T="k-last",y="close",D="timer",P="k-first",O="k-image",A="select",R="zIndex",U=l.support.pointers?"MSPointerOver":"mouseenter",E=l.support.pointers?"MSPointerOut":"mouseleave",S="kendoPopup",z="k-state-default",L="k-state-hover",B="k-state-focused",G="k-state-disabled",M=".k-group",N="k-state-active",W=":not(.k-list) > .k-item",j=".k-item.k-state-disabled",V=".k-item:not(.k-state-disabled)",Z=".k-item:not(.k-state-disabled) > .k-link",$="div:not(.k-animation-container,.k-list-container)",q={content:v("<div class='k-content k-group'>#= content(item) #</div>"),group:v("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:v("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:v("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } #</li>"),image:v("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:v("<span class='#= arrowClass(item, group) #'></span>"),sprite:v("<span class='k-sprite #= spriteCssClass #'></span>"),empty:v("")},F={wrapperCssClass:function(e,t){var n="k-item",i=t.index;return n+=t.enabled===!1?" k-state-disabled":" k-state-default",e.firstLevel&&0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),n},textClass:function(){return H},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e,t){var n="k-icon";return n+=t.horizontal?" k-i-arrow-s":" k-i-arrow-e"},text:function(e){return e.encoded===!1?e.text:l.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(e){return e.content?e.content:"&nbsp;"}},Q=_.extend({init:function(t,n){var i=this;_.fn.init.call(i,t,n),t=i.wrapper=i.element,n=i.options,n.dataSource&&(i.element.empty(),i.append(n.dataSource,t)),i._updateClasses(),n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),i.nextItemZIndex=100,i._tabindex(),t.on("touchstart",function(t){i.element[0].blur(),i.element[0].focus(),setTimeout(function(){i._moveHover([],e(l.eventTarget(t)).closest(W))},200)}).on("MSPointerDown",function(t){i._oldHoverItem=e(t.target).closest(W)}).on(m+b,j,!1).on(m+b,V,f(i._click,i)).on("keydown"+b,f(i._keydown,i)).on("focus"+b,f(i._focus,i)).on("blur"+b,f(i._removeHoverItem,i)).on(U+b,V,f(i._mouseenter,i)).on(E+b,V,f(i._mouseleave,i)).on(U+b+" "+E+b+" "+u+b+" "+m+b,Z,f(i._toggleHover,i)),n.openOnClick&&(i.clicked=!1,i._documentClickHandler=f(i._documentClick,i),e(document).click(i._documentClickHandler)),t.attr("role","menubar"),t[0].id&&(i._ariaId=l.format("{0}_mn_active",t[0].id)),l.notify(i)},events:[x,y,A],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100},destroy:function(){var t=this;_.fn.destroy.call(t),t.element.off(b),t._documentClickHandler&&e(document).unbind("click",t._documentClickHandler)},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(t,n){n=this.element.find(n);var i=this._insert(t,n,n.length?n.find("> .k-group, .k-animation-container > .k-group"):null);return g(i.items,function(t){i.group.append(this);var n=i.contents[t];n&&e(this).append(n),a(this)}),a(n),s(i.group.find(".k-first, .k-last").add(i.items)),this},insertBefore:function(t,n){n=this.element.find(n);var i=this._insert(t,n,n.parent());return g(i.items,function(t){n.before(this);var r=i.contents[t];r&&e(this).append(r),a(this),s(this)}),s(n),this},insertAfter:function(t,n){n=this.element.find(n);var i=this._insert(t,n,n.parent());return g(i.items,function(t){n.after(this);var r=i.contents[t];r&&e(this).append(r),a(this),s(this)}),s(n),this},_insert:function(t,n,i){var r,a,s=this,l=[];n&&n.length||(i=s.element);var p=e.isPlainObject(t),c={firstLevel:i.hasClass(I),horizontal:i.hasClass(I+"-horizontal"),expanded:!0,length:i.children().length};return n&&!i.length&&(i=e(Q.renderGroup({group:c})).appendTo(n)),p||e.isArray(t)?(r=e.map(p?[t]:t,function(t,n){return"string"==typeof t?e(t):e(Q.renderItem({group:c,item:h(t,{index:n})}))}),l=e.map(p?[t]:t,function(t,n){return t.content||t.contentUrl?e(Q.renderContent({item:h(t,{index:n})})):!1})):(r=e(t),a=r.find("> ul").addClass("k-group").attr("role","menu"),r=r.filter("li"),r.add(a.find("> li")).each(function(){o(this)})),{items:r,group:i,contents:l}},remove:function(e){e=this.element.find(e);var t=this,n=e.parentsUntil(t.element,W),i=e.parent("ul");if(e.remove(),i&&!i.children(W).length){var r=i.parent(".k-animation-container");r.length?r.remove():i.remove()}return n.length&&(n=n.eq(0),a(n),s(n)),t},open:function(r){var o=this,a=o.options,s="horizontal"==a.orientation,p=a.direction,c=l.support.isRtl(o.wrapper);return r=o.element.find(r),/^(top|bottom|default)$/.test(p)&&(p=c?s?(p+" left").replace("default","bottom"):"left":s?(p+" right").replace("default","bottom"):"right"),r.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var t=e(this).data("kendoPopup");t&&t.close()}),r.each(function(){var r=e(this);clearTimeout(r.data(D)),r.data(D,setTimeout(function(){var e,l=r.find(".k-group:first:hidden");if(l[0]&&o.trigger(x,{item:r[0]})===!1){r.data(R,r.css(R)),r.css(R,o.nextItemZIndex++),e=l.data(S);var d=r.parent().hasClass(I),u=d&&s,m=i(p,d,c),f=a.animation.open.effects,g=f!==t?f:"slideIn:"+n(p,d);e?(e=l.data(S),e.options.origin=m.origin,e.options.position=m.position,e.options.animation.open.effects=g):e=l.kendoPopup({origin:m.origin,position:m.position,collision:a.popupCollision!==t?a.popupCollision:u?"fit":"fit flip",anchor:r,appendTo:r,animation:{open:h(!0,{effects:g},a.animation.open),close:a.animation.close},close:function(e){var t=e.sender.wrapper.parent();o.trigger(y,{item:t[0]})?e.preventDefault():(t.css(R,t.data(R)),t.removeData(R))}}).data(S),l.removeAttr("aria-hidden"),e.open()}},o.options.hoverDelay))}),o},close:function(t){var n=this,i=n.element;return t=i.find(t),t.length||(t=i.find(">.k-item")),t.each(function(){var t=e(this);clearTimeout(t.data(D)),t.data(D,setTimeout(function(){var e=t.find(".k-group:first:visible").data(S);e&&(e.close(),e.element.attr("aria-hidden",!0))},n.options.hoverDelay))}),n},_toggleDisabled:function(t,n){this.element.find(t).each(function(){e(this).toggleClass(z,n).toggleClass(G,!n).attr("aria-disabled",!n)})},_toggleHover:function(t){var n=e(l.eventTarget(t)||t.target).closest(W),i=t.type==U||-1!==u.indexOf(t.type);n.parents("li."+G).length||n.toggleClass(L,i),this._removeHoverItem()},_removeHoverItem:function(){var e=this._oldHoverItem;e&&e.hasClass(B)&&(e.removeClass(B),this._oldHoverItem=null)},_updateClasses:function(){var e,t=this.element;t.addClass("k-widget k-reset k-header "+I).addClass(I+"-"+this.options.orientation),t.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",t.is(":visible")),e=t.find("> li,.k-group > li"),e.each(function(){o(this)})},_mouseenter:function(t){var n=this,i=e(t.currentTarget),o=i.children(".k-animation-container").length||i.children(M).length;t.delegateTarget==i.parents(".k-menu")[0]&&((!n.options.openOnClick||n.clicked)&&!r(t.currentTarget,t.relatedTarget)&&o&&n.open(i),(n.options.openOnClick&&n.clicked||d)&&i.siblings().each(f(function(e,t){n.close(t)},n)))},_mouseleave:function(n){var i=this,o=e(n.currentTarget),a=o.children(".k-animation-container").length||o.children(M).length;return o.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?(n.stopImmediatePropagation(),t):(i.options.openOnClick||c||l.support.pointers&&2==n.originalEvent.pointerType||r(n.currentTarget,n.relatedTarget)||!a||i.close(o),t)},_click:function(n){var i,r,o,a=this,s=a.options,p=e(l.eventTarget(n)),c=p[0]?p[0].nodeName.toUpperCase():"",d="INPUT"==c||"SELECT"==c||"BUTTON"==c,u=p.closest("."+H),m=p.closest(W),h=u.attr("href"),f=!!h&&"#"!=h.charAt(h.length-1);if(!m.children($)[0])return m.hasClass(G)?(n.preventDefault(),t):(n.handled||!a.trigger(A,{item:m[0]})||d||n.preventDefault(),n.handled=!0,r=m.children(M+",.k-animation-container"),o=r.is(":visible"),s.closeOnClick&&!f&&(!r.length||s.openOnClick&&o)?(m.removeClass(L).css("height"),a._oldHoverItem=a._findRootParent(m),a.close(u.parentsUntil(a.element,W)),a.clicked=!1,-1!="touchend MSPointerUp".indexOf(n.type)&&n.preventDefault(),t):((m.parent().hasClass(I)&&s.openOnClick||l.support.touch)&&(f||d||n.preventDefault(),a.clicked=!0,i=r.is(":visible")?y:x,a[i](m)),t))},_documentClick:function(e){r(this.element[0],e.target)||(this.clicked=!1)},_focus:function(e){var t=this,n=e.target,i=t._hoverItem();n==t.wrapper[0]&&i.length?t._moveHover([],i):n!=t.wrapper[0]||t._oldHoverItem||t._moveHover([],t.wrapper.children().first())},_keydown:function(e){var n,i,r,o=this,a=e.keyCode,s=o._oldHoverItem,p=l.support.isRtl(o.wrapper);if(e.target==e.currentTarget||a==k.ESC){if(s||(s=o._oldHoverItem=o._hoverItem()),i=o._itemBelongsToVertival(s),r=o._itemHasChildren(s),a==k.RIGHT)n=o[p?"_itemLeft":"_itemRight"](s,i,r);else if(a==k.LEFT)n=o[p?"_itemRight":"_itemLeft"](s,i,r);else if(a==k.DOWN)n=o._itemDown(s,i,r);else if(a==k.UP)n=o._itemUp(s,i,r);else if(a==k.ESC)n=o._itemEsc(s,i);else if(a==k.ENTER||a==k.SPACEBAR)n=s.children(".k-link"),n.length>0&&(o._click({target:n[0],preventDefault:function(){}}),o._moveHover(s,o._findRootParent(s)));else if(a==k.TAB)return n=o._findRootParent(s),o.close(n),o._moveHover(s,n),t;n&&n[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find("li.k-item.k-state-hover").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length?e.parent().hasClass("k-group")||t:t},_itemHasChildren:function(e){return e.length?e.children("ul.k-group, div.k-animation-container").length>0:!1},_moveHover:function(e,t){var n=this,i=n._ariaId;e.length&&t.length&&(e.removeClass(B),e[0].id===i&&e.removeAttr("id")),t.length&&(t[0].id&&(i=t[0].id),t.addClass(B),n._oldHoverItem=t,i&&(n.element.removeAttr("aria-activedescendant"),t.attr("id",i),n.element.attr("aria-activedescendant",i)))},_findRootParent:function(e){return e.parent().hasClass("k-menu")?e:e.parentsUntil(".k-menu","li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass("k-menu")},_itemRight:function(e,t,n){var i,r,o=this;return t?n?(o.open(e),i=e.find(".k-group").children().first()):"horizontal"==o.options.orientation&&(r=o._findRootParent(e),o.close(r),i=r.next(),i.is(".k-separator")&&(i=i.next())):(i=e.next(),i.is(".k-separator")&&(i=i.next()),i.length||(i=e.parent().children().first())),i&&!i.length?i=o.wrapper.children(".k-item").first():i||(i=[]),o._moveHover(e,i),i},_itemLeft:function(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._isRootItem(n)&&"horizontal"==i.options.orientation&&(n=n.prev(),n.is(".k-separator")&&(n=n.prev()))):(n=e.prev(),n.is(".k-separator")&&(n=n.prev()),n.length||(n=e.parent().children().last())),n.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n},_itemDown:function(e,t,n){var i,r=this;if(t)i=e.next(),i.is(".k-separator")&&(i=i.next());else{if(!n||e.hasClass(G))return;r.open(e),i=e.find(".k-group").children().first()}return!i.length&&e.length?i=e.parent().children().first():e.length||(i=r.wrapper.children(".k-item").first()),r._moveHover(e,i),i},_itemUp:function(e,t){var n,i=this;if(t)return n=e.prev(),n.is(".k-separator")&&(n=n.prev()),!n.length&&e.length?n=e.parent().children().last():e.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n},_itemEsc:function(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._moveHover(e,n),n):e}});h(Q,{renderItem:function(e){e=h({menu:{},group:{}},e);var t=q.empty,n=e.item;return q.item(h(e,{image:n.imageUrl?q.image:t,sprite:n.spriteCssClass?q.sprite:t,itemWrapper:q.itemWrapper,arrow:n.items||n.content?q.arrow:t,subGroup:Q.renderGroup},F))},renderGroup:function(e){return q.group(h({renderItems:function(e){for(var t="",n=0,i=e.items,r=i?i.length:0,o=h({length:r},e.group);r>n;n++)t+=Q.renderItem(h(e,{group:o,item:h({index:n},i[n])}));return t}},e,F))},renderContent:function(e){return q.content(h(e,F))}}),l.ui.plugin(Q)})(window.kendo.jQuery);