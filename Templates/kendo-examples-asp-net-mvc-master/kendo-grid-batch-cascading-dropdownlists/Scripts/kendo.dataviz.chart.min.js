/*
* Kendo UI Complete v2012.3.1210 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
(function(e,t){function n(e,t){function n(e,t,n){var i,o=typeof t;return i=o===jn?go[t](e):"function"===o?t(e,n):go.max(e)}function i(e,t,i){var o,a,r,s=P(i.type),l=s.length,c=e.length,h=[],u=[];for(o=0;l>o;o++){for(r=s[o],a=0;c>a;a++)u.push(e[a][r]);h.push(n(u,t[r],i)),u=[]}return h}var o,a=t.aggregate;return o="object"==typeof a?i(e,a,t):n(e,a,t)}function i(e){return a(e).min}function o(e){return a(e).max}function a(e){var t,n,i=An,o=kn,a=e.length;for(t=0;a>t;t++)n=e[t],null!==n&&isFinite(n)&&(i=W.min(i,n),o=W.max(o,n));return{min:i,max:o}}function r(e,t,n,i){var o,a,r=(i.x-n.x)*(e.y-n.y)-(i.y-n.y)*(e.x-n.x),s=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y);return 0!==s&&(a=r/s,o=new dt(e.x+a*(t.x-e.x),e.y+a*(t.y-e.y))),o}function s(e,t){var n,i,o=e.series,a=o.length,r=e.seriesDefaults,s=et({},e.seriesDefaults),c=t?et({},t.seriesDefaults):{},h=et({},c);for(l(s),l(h),n=0;a>n;n++)i=o[n].type||e.seriesDefaults.type,o[n]=et({},h,c[i],{tooltip:e.tooltip},s,r[i],o[n])}function l(e){delete e.bar,delete e.column,delete e.line,delete e.verticalLine,delete e.pie,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc}function c(e){var t,n=e.series,i=n.length,o=e.seriesColors||[];for(t=0;i>t;t++)n[t].color=n[t].color||o[t%o.length]}function h(e){var t;N([Ft,ai,hi,ui],function(){t=this+"Axes",e[t]&&(e[this+"Axis"]=e[t],delete e[t])})}function u(t,n){var i=(n||{}).axisDefaults||{};N([Ft,ai,hi,ui],function(){var n=this+"Axis",o=[].concat(t[n]),a=t.axisDefaults||{};o=e.map(o,function(e){var t=(e||{}).color;return et({},i,i[n],a,a[n],{line:{color:t},labels:{color:t},title:{color:t}},e)}),t[n]=o.length>1?o:o[0]})}function d(e,t){var n,i,o,a,r,s=[].concat(e.categoryAxis);for(n=0;s.length>n;n++)if(i=s[n],i.field)for(o=0;t.length>o;o++)r=t[o],a=x(i.field,r),0===o?(i.categories=[a],i.dataItems=[r]):(i.categories.push(a),i.dataItems.push(r))}function p(e,t,n){e[t]=(e[t]||0)+n}function g(e){var t,n=e.length,i=0;for(t=0;n>t;t++)i=W.max(i,e[t].data.length);return i}function f(e){return e*e}function x(e,t){if(null===t)return null;var n=x.cache[e]=x.cache[e]||tt(e,!0);return n(t)}function v(e){var t,n,i;if(e instanceof Date)t=e;else if(typeof e===jn)n=Zt.exec(e),t=new Date(n?parseInt(n[1],10):e);else if(e)if(e.length)for(t=[],i=0;e.length>i;i++)t.push(v(e[i]));else t=new Date(e);return t}function m(e){return F(e)?Y(e,m):e?v(e).getTime():t}function y(e,t,n,i){if(!e)return e;if(e=v(e),n===di)return new Date(e.getFullYear()+t,0,1);if(n===_n)return new Date(e.getFullYear(),e.getMonth()+t,1);if(n===li){var o=w(e,i);return y(o,7*t,en)}return n===en?new Date(e.getFullYear(),e.getMonth(),e.getDate()+t):n===gn?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t):n===Cn?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+t):e}function w(e,t){var n=e.getDay(),i=0;for(t=t||0;n!==t;)0===n?n=6:n--,i++;return C(e,-i*Kn)}function b(e,t,n){return e=v(e),y(e,0,t,n)}function A(e,t,n){return e=v(e),b(e,t,n).getTime()===e.getTime()?e:y(e,1,t,n)}function k(e,t){var n=e.getTime()-t,i=e.getTimezoneOffset()-t.getTimezoneOffset();return n-i*Gn}function C(e,t){var n=e.getTimezoneOffset(),i=new Date(e.getTime()+t),o=i.getTimezoneOffset()-n;return new Date(i.getTime()+o*Gn)}function _(e,t,n){var i;return i=n===di?t.getFullYear()-e.getFullYear():n===_n?12*_(e,t,di)+t.getMonth()-e.getMonth():n===en?W.floor(k(t,e)/Kn):W.floor((t-e)/Zn[n])}function P(e){var t=[ai];return kt(e,[Nt,Dn])?t=["open","high","low","close"]:kt(e,mi)&&(t=[hi,ui],e===Mt&&t.push("size")),t}function S(e,t,n){var i,o,a,r,s=e.data[t],l={},c=P(e.type),h={value:s};return bt(s)?F(s)?(i=s.slice(c.length),r=T(s,c),l=T(i,n)):"object"==typeof s&&(o=D(e,c),a=D(e,n),r=I(s,c,o),l=I(s,n,a)):r=I({},c),bt(r)&&(1===c.length&&(r=r[c[0]]),h.value=r),h.fields=l,h}function T(e,t){var n,i,o={};if(t)for(i=W.min(t.length,e.length),n=0;i>n;n++)o[t[n]]=e[n];return o}function I(e,t,n){var i,o,a,r,s={};if(t)for(o=t.length,n=n||t,i=0;o>i;i++)a=t[i],r=n[i],s[a]=x(r,e);return s}function D(e,t){var n,i,o,a,r;if(t)for(i=t.length,a=[],n=0;i>n;n++)o=t[n],r=o===ai?"field":o+"Field",a.push(e[r]||o);return a}function V(e){return 1===e.length?e[0]:e}function B(e,t,n){return W.max(W.min(e,n),t)}function R(e){var t,n,i=new rt,o=e.length;if(o>0)for(t=0;o>t;t++)n=e[t],0===t?i=n.box.clone():i.wrap(n.box);return i}function L(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function E(e,t){return e&&t?m(e)===m(t):e===t}function z(e){for(var t,n=e.length;n--;)if(t=e[n],bt(t)&&null!==t)return t}function O(e,t){null!==t&&e.push(t)}function U(e,t){for(var n,i,o=0,a=e.length-1;a>=o;)if(n=W.floor((o+a)/2),i=e[n],t>i)o=n+1;else{if(!(i>t))return n;a=n-1}return t>=e[n]?n:n-1}function H(e){var t,n,i=!0,o=e.length;for(t=0;o>t;t++)if(n=e[t],"number"!=typeof n||isNaN(n)){i=!1;break}return i}function M(e){var t,n,i,o={};for(t=0;e.length>t;t++)n=e[t],i=n.options.name,i&&(o[i]=n.range());return o}var N=e.each,F=e.isArray,Y=e.map,W=Math,X=e.extend,j=e.proxy,G=document,q=window.kendo,K=q.Class,Q=q.Observable,$=q.data.DataSource,J=q.ui.Widget,Z=q.template,et=q.deepExtend,tt=q.getter,nt=q.dataviz,it=nt.Axis,ot=nt.AxisLabel,at=nt.BarAnimation,rt=nt.Box2D,st=nt.BoxElement,lt=nt.ChartElement,ct=nt.Color,ht=nt.ElementAnimation,ut=nt.NumericAxis,dt=nt.Point2D,pt=nt.RootElement,gt=nt.Ring,ft=nt.Text,xt=nt.TextBox,vt=nt.Title,mt=nt.animationDecorator,yt=nt.append,wt=nt.autoFormat,bt=nt.defined,At=nt.getSpacing,kt=nt.inArray,Ct=nt.interpolateValue,_t=nt.last,Pt=nt.round,St=nt.renderTemplate,Tt=nt.uniqueId,It=".kendoChart",Dt="above",Vt="area",Bt="auto",Rt="fit",Lt=nt.AXIS_LABEL_CLICK,Et="bar",zt=.8,Ot="below",Ut="#000",Ht="bottom",Mt="bubble",Nt="candlestick",Ft="category",Yt="center",Wt="change",Xt="circle",jt="click"+It,Gt=nt.CLIP,qt="column",Kt=nt.COORD_PRECISION,Qt="k-",$t="dataBound",Jt="date",Zt=/^\/Date\((.*?)\)\/$/,en="days",tn=nt.DEFAULT_FONT,nn=nt.DEFAULT_HEIGHT,on=nt.DEFAULT_PRECISION,an=nt.DEFAULT_WIDTH,rn=W.PI/180,sn="donut",ln=50,cn="drag",hn="dragEnd",un="dragStart",dn="fadeIn",pn="glass",gn="hours",fn=nt.INITIAL_ANIMATION_DURATION,xn="insideBase",vn="insideEnd",mn="interpolate",yn="left",wn="line",bn=8,An=Number.MAX_VALUE,kn=-Number.MAX_VALUE,Cn="minutes",_n="months",Pn="mousemove.tracking",Sn="mouseover"+It,Tn=150,In="DOMMouseScroll"+It+" mousewheel"+It,Dn="ohlc",Vn="outsideEnd",Bn="_outline",Rn="pie",Ln=70,En="plotAreaClick",zn="right",On="roundedBevel",Un="roundedGlass",Hn="scatter",Mn="scatterLine",Nn="selectStart",Fn="select",Yn="selectEnd",Wn="seriesClick",Xn="seriesHover",jn="string",Gn=6e4,qn=60*Gn,Kn=24*qn,Qn=7*Kn,$n=31*Kn,Jn=365*Kn,Zn={years:Jn,months:$n,weeks:Qn,days:Kn,hours:qn,minutes:Gn},ei="top",ti=150,ni=5,ii=100,oi="triangle",ai="value",ri="verticalArea",si="verticalLine",li="weeks",ci="#fff",hi="x",ui="y",di="years",pi="zero",gi="zoomStart",fi="zoom",xi="zoomEnd",vi=[Et,qt,wn,si,Vt,ri,Nt,Dn],mi=[Hn,Mn,Mt],yi=[Cn,gn,en,li,_n,di],wi={minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},bi=J.extend({init:function(e,t){var n,i,o,a,r=this,s=nt.ui.themes||{},l=(t||{}).dataSource;J.fn.init.call(r,e),n=et({},r.options,t),r.element.addClass("k-chart").css("position","relative"),r._originalOptions=et({},n),a=n.theme,o=s[a]||s[a.toLowerCase()],i=a&&o?o.chart:{},h(n),r._applyDefaults(n,i),r.options=et({},i,n),c(r.options),r.bind(r.events,r.options),r.wrapper=r.element,r._dataChangeHandler=j(r._onDataChanged,r),r.dataSource=$.create(l).bind(Wt,r._dataChangeHandler),r._redraw(),r._attachEvents(),l&&n.autoBind&&r.dataSource.fetch(),q.notify(r,nt.ui)},setDataSource:function(e){var t=this;t.dataSource.unbind(Wt,t._dataChangeHandler),t.dataSource=e,e.bind(Wt,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events:[$t,Wn,Xn,Lt,En,un,cn,hn,gi,fi,xi],items:function(){return e()},options:{name:"Chart",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:qt,data:[],groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",labels:{}},series:[],tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{}},refresh:function(){var e=this;e._applyDefaults(e.options),delete e._sourceSeries,e._onDataChanged()},redraw:function(e){var t,n,i=this;i._applyDefaults(i.options),e?(n=i._model._plotArea,t=n.findPane(e),n.redraw(t)):i._redraw()},_redraw:function(){var e,t=this,n=t.options,i=t.element,o=t._model=t._getModel(),a=nt.ui.defaultView();t._plotArea=o._plotArea,a&&(e=t._view=a.fromModel(o),t._viewElement=e.renderTo(i[0]),t._tooltip=new nt.Tooltip(i,n.tooltip),t._highlight=new uo(e,t._viewElement))},svg:function(){var e=this._getModel(),t=nt.SVGView.fromModel(e);return t.render()},_applyDefaults:function(e,t){u(e,t),s(e,t)},_getModel:function(){var e,t=this,n=t.options,i=t.element,o=new pt(et({width:i.width()||an,height:i.height()||nn,transitions:n.transitions},n.chartArea));return vt.buildTitle(n.title,o),e=o._plotArea=t._createPlotArea(),n.legend.visible&&o.append(new ki(e.options.legend)),o.append(e),o.reflow(),o},_createPlotArea:function(){var e,t,n,i=this,o=i.options,a=o.series,r=a.length,s=[],l=[],c=[],h=[];for(e=0;r>e;e++)t=a[e],kt(t.type,vi)?s.push(t):kt(t.type,mi)?l.push(t):t.type===Rn?c.push(t):t.type===sn&&h.push(t);return n=c.length>0?new oo(c,o):h.length>0?new ao(h,o):l.length>0?new io(l,o):new to(s,o)},_attachEvents:function(){var e=this,t=e.element;t.on(jt,j(e._click,e)),t.on(Sn,j(e._mouseover,e)),t.on(In,j(e._mousewheel,e)),q.UserEvents&&(e._userEvents=new q.UserEvents(t,{global:!0,threshold:5,filter:":not(.k-selector)",stopPropagation:!0,multiTouch:!1,start:j(e._start,e),move:j(e._move,e),end:j(e._end,e)}))},_start:function(e){this._startNavigation(e,un)},_move:function(e){var t,n=this,i=n._navState,o={};if(i){e.preventDefault(),t=i.axes;for(var a=0;t.length>a;a++){var r=t[a],s=r.options.name;if(s){var l=r.options.vertical?e.y:e.x,c=l.startLocation-l.location;0!==c&&(o[r.options.name]=r.translateRange(c))}}i.axisRanges=o,n.trigger(cn,{axisRanges:o,originalEvent:e})}},_end:function(e){this._endNavigation(e,hn)},_mousewheel:function(e){var t,n,i,o,a,r,s=this,l=e.originalEvent,c=0,h=s._navState,u={};if(l.wheelDelta&&(c=-l.wheelDelta/120),l.detail&&(c=l.detail/3),h||(t=s._startNavigation(l,gi),t||(h=s._navState)),h){for(n=h.totalDelta||c,h.totalDelta=n+c,i=s._navState.axes,o=0;i.length>o;o++)a=i[o],r=a.options.name,r&&(u[r]=a.scaleRange(n));s.trigger(fi,{delta:c,axisRanges:u,originalEvent:e}),s._mwTimeout&&clearTimeout(s._mwTimeout),s._mwTimeout=setTimeout(function(){s._endNavigation(e,xi)},Tn)}},_startNavigation:function(e,t){var n,i,o,a=this,r=a._eventCoordinates(e),s=a._model._plotArea,l=s.findPointPane(r),c=s.axes.slice(0),h=!1;if(l){for(n=0;c.length>n;n++)if(i=c[n],i.box.containsPoint(r)){h=!0;break}!h&&s.backgroundBox().containsPoint(r)&&(o=a.trigger(t,{axisRanges:M(c),originalEvent:e}),o?a._userEvents.cancel():(a._suppressHover=!0,a._unsetActivePoint(),a._navState={pane:l,axes:c}))}},_endNavigation:function(e,t){var n=this;n._navState&&(n.trigger(t,{axisRanges:n._navState.axisRanges,originalEvent:e}),n._suppressHover=!1,n._navState=null)},_getChartElement:function(t){var n,i=this,o=e(t.target).data("modelId"),a=i._model;return o&&(n=a.modelMap[o]),n&&n.aliasFor&&(n=n.aliasFor(t,i._eventCoordinates(t))),n},_eventCoordinates:function(e){var t=this,n=bt((e.x||{}).client),i=n?e.x.client:e.clientX,o=n?e.y.client:e.clientY;return t._toModelCoordinates(i,o)},_toModelCoordinates:function(t,n){var i=this.element,o=i.offset(),a=parseInt(i.css("paddingLeft"),10),r=parseInt(i.css("paddingTop"),10),s=e(window);return{x:t-o.left-a+s.scrollLeft(),y:n-o.top-r+s.scrollTop()}},_click:function(e){for(var t=this,n=t._getChartElement(e);n;)n.click&&n.click(t,e),n=n.parent},_mouseover:function(t){var n,i,o=this,a=o._tooltip,r=o._highlight;!o._suppressHover&&r&&r.overlayElement!==t.target&&(i=o._getChartElement(t),i&&i.hover&&(i.hover(o,t),o._activePoint=i,n=et({},o.options.tooltip,i.options.tooltip),n.visible&&a.show(i),r.show(i),e(G.body).on(Pn,j(o._mouseMove,o))))},_mouseMove:function(t){var n,i,o,a=this,r=a._tooltip,s=a._highlight,l=a._eventCoordinates(t),c=a._activePoint;a._plotArea.box.containsPoint(l)?c&&c.series&&(c.series.type===wn||c.series.type===Vt)&&(i=c.parent,o=i.getNearestPoint(l.x,l.y,c.seriesIx),o&&o!=c&&(o.hover(a,t),a._activePoint=o,n=et({},a.options.tooltip,c.options.tooltip),n.visible&&r.show(o),s.show(o))):(e(G.body).off(Pn),a._unsetActivePoint())},_unsetActivePoint:function(){var e=this,t=e._tooltip,n=e._highlight;e._activePoint=null,t&&t.hide(),n&&n.hide()},_onDataChanged:function(){var e,t,n=this,i=n.options,o=n._sourceSeries||i.series,a=o.length,r=n.dataSource.view(),s=(n.dataSource.group()||[]).length>0,l=[];for(e=0;a>e;e++)t=o[e],n.isBindable(t)?(t.data=r,yt(l,s?n._createGroupedSeries(t,r):[t])):l.push(t);n._sourceSeries=o,i.series=l,c(n.options),n._categoriesData=s?r[0].items:r,d(n.options,n._categoriesData),n.trigger($t),n._redraw()},isBindable:function(e){var t,n,i=P(e.type),o=!0;for(n=0;i.length>n;n++)if(t=i[n],t===ai?t="field":t+="Field",!e[t]){o=!1;break}return o},_createGroupedSeries:function(e,n){var i,o,a,r,s=[],l=n.length;for(e.groupNameTemplate&&(i=Z(e.groupNameTemplate)),a=0;l>a;a++)r=et({},e),r.color=t,s.push(r),o=n[a],r.data=o.items,i&&(r.name=i({series:r,group:o}));return s},destroy:function(){var e=this,t=e.dataSource;e.element.off(It),t.unbind(Wt,e._dataChangeHandler),e._userEvents&&e._userEvents.destroy(),J.fn.destroy.call(e)}}),Ai=lt.extend({init:function(e,t){var n=this;lt.fn.init.call(n,t),n.append(new xt(e,n.options))},options:{position:Vn,margin:At(3),padding:At(4),color:Ut,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:dn,delay:fn},zIndex:1},reflow:function(e){var t=this,n=t.options,i=n.vertical,o=n.aboveAxis,a=t.children[0],r=a.box,s=a.options.padding;a.options.align=i?Yt:yn,a.options.vAlign=i?ei:Yt,n.position==vn?i?(a.options.vAlign=ei,!o&&e.height()>r.height()&&(a.options.vAlign=Ht)):a.options.align=o?zn:yn:n.position==Yt?(a.options.vAlign=Yt,a.options.align=Yt):n.position==xn?i?a.options.vAlign=o?Ht:ei:a.options.align=o?yn:zn:n.position==Vn&&(i?e=o?new rt(e.x1,e.y1-r.height(),e.x2,e.y1):new rt(e.x1,e.y2,e.x2,e.y2+r.height()):(a.options.align=Yt,e=o?new rt(e.x2+r.width(),e.y1,e.x2,e.y2):new rt(e.x1-r.width(),e.y1,e.x1,e.y2))),i?s.left=s.right=(e.width()-a.contentBox.width())/2:s.top=s.bottom=(e.height()-a.contentBox.height())/2,a.reflow(e)}}),ki=lt.extend({init:function(e){var t=this;lt.fn.init.call(t,e),t.createLabels()},options:{position:zn,items:[],labels:{},offsetX:0,offsetY:0,margin:At(10),padding:At(5),border:{color:Ut,width:0},background:"",zIndex:1},createLabels:function(){var e,t,n,i=this,o=i.options.items,a=o.length;for(n=0;a>n;n++)t=o[n].name,e=new ft(t,i.options.labels),i.append(e)},reflow:function(e){var n=this,i=n.options,o=n.children.length;return 0===o?(n.box=e.clone(),t):"custom"==i.position?(n.customLayout(e),t):(i.position==ei||i.position==Ht?n.horizontalLayout(e):n.verticalLayout(e),t)},getViewElements:function(e){var t,n,i,o,a,r,s,l=this,c=l.children,h=l.options,u=h.items,d=u.length,p=l.markerSize(),g=e.createGroup({zIndex:h.zIndex}),f=h.border||{};for(yt(g.children,lt.fn.getViewElements.call(l,e)),s=0;d>s;s++)o=u[s].color,a=c[s],n=new rt,r=a.box,i=i?i.wrap(r):r.clone(),n.x1=r.x1-2*p,n.x2=n.x1+p,n.y1=h.position==ei||h.position==Ht?r.y1+p/2:r.y1+(r.height()-p)/2,n.y2=n.y1+p,g.children.push(e.createRect(n,{fill:o,stroke:o}));return c.length>0&&(t=At(h.padding),t.left+=2*p,i.pad(t),g.children.unshift(e.createRect(i,{stroke:f.width?f.color:"",strokeWidth:f.width,dashType:f.dashType,fill:h.background}))),[g]},verticalLayout:function(e){var t,n,i,o,a=this,r=a.options,s=a.children,l=s.length,c=s[0].box.clone(),h=At(r.margin),u=2*a.markerSize();for(o=1;l>o;o++)i=a.children[o],i.box.alignTo(a.children[o-1].box,Ht),c.wrap(i.box);r.position==yn?(t=e.x1+u+h.left,n=(e.y2-c.height())/2,c.x2+=u+h.left+h.right):(t=e.x2-c.width()-h.right,n=(e.y2-c.height())/2,c.translate(t,n),c.x1-=u+h.left),a.translateChildren(t+r.offsetX,n+r.offsetY);var d=c.width();c.x1=W.max(e.x1,c.x1),c.x2=c.x1+d,c.y1=e.y1,c.y2=e.y2,a.box=c},horizontalLayout:function(e){var t,n,i,o,a=this,r=a.options,s=a.children,l=s.length,c=s[0].box.clone(),h=3*a.markerSize(),u=At(r.margin),d=s[0].box.width()+h,p=e.width(),g=0;for(o=1;l>o;o++)i=s[o],d+=i.box.width()+h,d>p-h?(i.box=new rt(c.x1,c.y2,c.x1+i.box.width(),c.y2+i.box.height()),d=i.box.width()+h,g=i.box.y1):(i.box.alignTo(s[o-1].box,zn),i.box.y2=g+i.box.height(),i.box.y1=g,i.box.translate(h,0)),c.wrap(i.box);t=(e.width()-c.width()+h)/2,r.position===ei?(n=e.y1+u.top,c.y2=e.y1+c.height()+u.top+u.bottom,c.y1=e.y1):(n=e.y2-c.height()-u.bottom,c.y1=e.y2-c.height()-u.top-u.bottom,c.y2=e.y2),a.translateChildren(t+r.offsetX,n+r.offsetY),c.x1=e.x1,c.x2=e.x2,a.box=c},customLayout:function(e){var t,n=this,i=n.options,o=n.children,a=o.length,r=o[0].box.clone(),s=2*n.markerSize();for(t=1;a>t;t++)r=n.children[t].box,r.alignTo(n.children[t-1].box,Ht),r.wrap(r);n.translateChildren(i.offsetX+s,i.offsetY),n.box=e},markerSize:function(){var e=this,t=e.children;return t.length>0?t[0].box.height()/2:0}}),Ci=it.extend({options:{type:Ft,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:Ut},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(e){var t,n=this,i=n.options,o=i.vertical,a=i.justified,r=n.lineBox(),s=o?r.height():r.width(),l=e-(a?1:0),c=s/l,h=o?ui:hi,u=r[h+1],d=[];for(t=0;e>t;t++)d.push(Pt(u,Kt)),u+=c;return a||d.push(r[h+2]),i.reverse?d.reverse():d},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.categories.length)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(2*e.options.categories.length)},getSlot:function(e,t){var n,i,o,a=this,r=a.options,s=a.getMajorTickPositions(),l=r.reverse,c=r.justified,h=r.vertical?ui:hi,u=a.lineBox(),d=u[h+(l?2:1)],p=u[h+(l?1:2)],g=u.clone(),f=W.max(1,s.length-(c?0:1));return e=bt(e)?e:0,t=bt(t)?t:e,e=B(e,0,f),t=B(t-1,e,f),t=W.max(e,t),n=0===e?d:s[e],i=c?n:s[t],o=t-e,(o>0||e===t)&&(i=s[t+1]||p),c&&(e===f?n=i:i=n),g[h+1]=l?i:n,g[h+2]=l?n:i,g},getCategoryIndex:function(e){var t,n,i,o,a=this,r=a.options,s=r.reverse,l=r.vertical,c=l?ui:hi,h=a.lineBox(),u=h[c+1],d=h[c+2],p=e[c],g=a.getMajorTickPositions();if(u>p||p>d)return null;for(i=0;g.length>i;i++){if(t=g[i],n=g[i+1],bt(n)||(n=s?u:d),s&&(t=n,n=g[i]),r.justified&&p===n){o=W.max(0,l?g.length-i-1:i+1);break}if(p>=t&&n>=p){o=W.max(0,l?g.length-i-2:i);break}}return o},getCategory:function(e){var t=this.getCategoryIndex(e);return null===t?null:this.options.categories[t]},translateRange:function(e){var t=this,n=t.options,i=t.lineBox(),o=n.vertical?i.height():i.width(),a=n.categories.length,r=o/a,s=Pt(e/r,on);return{min:s,max:a+s}},scaleRange:function(e){var t=this,n=t.options,i=n.categories.length,o=e*i;return{min:-o,max:i+o}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(e,t){var n=this,i=n.options,o=i.dataItems?i.dataItems[e]:null,a=bt(i.categories[e])?i.categories[e]:"";return new ot(a,e,o,t)}}),_i=ot.extend({formatValue:function(e,t){return q.toString(e,t.format,t.culture)}}),Pi=Ci.extend({init:function(e){var t,n,i=this;e=e||{},e=et({roundToBaseUnit:!0},e,{min:v(e.min),max:v(e.max)}),e.categories&&e.categories.length>0&&(t=(e.baseUnit||"").toLowerCase(),n=t!==Rt&&!kt(t,yi),n&&(e.baseUnit=i.defaultBaseUnit(e)),(t===Rt||e.baseUnitStep===Bt)&&i.autoBaseUnit(e),i.groupCategories(e)),Ci.fn.init.call(i,e)},options:{type:Jt,labels:{dateFormats:wi},autoBaseUnitSteps:{minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},translateRange:function(e){var t=this,n=Ci.fn.translateRange.call(t,e),i=t.options,o=i.baseUnit,a=W.round(n.min),r=i.weekStartDay;return{min:y(i.min,a,o,r),max:y(i.max,a,o,r)}},scaleRange:function(e){for(var t,n,i=this,o=i.options,a=W.abs(e),r=o.min,s=o.max;a--;)t=k(r,s),n=W.round(.1*t),0>e?(r=C(r,n),s=C(s,-n)):(r=C(r,-n),s=C(s,n));return{min:r,max:s}},defaultBaseUnit:function(e){var t,n,i,o,a,r=e.categories,s=bt(r)?r.length:0,l=An;for(t=0;s>t;t++)n=v(r[t]),n&&o&&(i=n-o,i>0&&(l=W.min(l,i),a=l>=Jn?di:l>=$n-3*Kn?_n:l>=Qn?li:l>=Kn?en:l>=qn?gn:Cn)),o=n;return a||en},range:function(e){e=e||this.options;var t=v(e.categories),n=e.baseUnit===Rt,i=n?yi[0]:e.baseUnit,o=m(e.min),r=m(e.max),s=a(t),l=m(s.min),c=m(s.max);return e.roundToBaseUnit?{min:y(o||l,0,i,e.weekStartDay),max:y(r||c,1,i,e.weekStartDay)}:{min:v(o||l),max:v(r||c)}},autoBaseUnit:function(e){for(var t,n,i,o=this,a=o.range(e),r=e.baseUnit===Rt,s=0,l=r?yi[s++]:e.baseUnit,c=a.max-a.min,h=c/Zn[l],u=h,d=e.maxDateGroups||o.options.maxDateGroups,p=et({},o.options.autoBaseUnitSteps,e.autoBaseUnitSteps);h>d;)if(t=t||p[l].slice(0),i=t.shift())n=i,h=u/n;else{if(!r){h>d&&(n=W.ceil(u/d));break}l=yi[s++]||_t(yi),u=c/Zn[l],t=null}e.baseUnitStep=n,e.baseUnit=l},getMajorTickPositions:function(){var e=this,t=e.options,n=t.categories,i=[];if(t.roundToBaseUnit||0===n.length)i=Ci.fn.getMajorTickPositions.call(e);else{var o,a,r=t.vertical,s=t.reverse,l=e.lineBox(),c=r?l.height():l.width(),h=n[0].getTime(),u=e.range(e.options),d=u.max-u.min,p=c/d,g=n.length,f=(r?-1:1)*(s?-1:1),x=1===f?1:2,v=1===f?2:1,m=l[(r?ui:hi)+x],y=l[(r?ui:hi)+v],w=m;for(o=0;g>o;o++)a=n[o]-h,w=m+a*p*f,i.push(Pt(w,Kt));_t(i)!==y&&i.push(y)}return i},groupCategories:function(e){var t,n,i,o,a,r,s=this,l=v(e.categories),c=e.baseUnit,h=e.baseUnitStep||1,u=s.range(e),d=e.roundToBaseUnit,p=[],g=s.categoryMap=[],f=[];for(t=d?y(u.max,h-1,c,e.weekStartDay):u.max,n=u.min;t>n;n=i){for(i=y(n,h,c,e.weekStartDay),p.push(n),o=[],a=U(l,n);l.length>a;a++)if(r=l[a],r&&r>=n){if(!(i>r))break;e.justified&&E(r,t)?f.push(a):o.push(a)}g.push(o)}f.length&&(p.push(t),g.push(f)),e.min=p[0],e.max=d?_t(p):t,e.categories=p},createAxisLabel:function(e,t){var n=this.options,i=n.dataItems?n.dataItems[e]:null,o=n.categories[e],a=n.baseUnit,r=!0,s=t.dateFormats[a];if(n.justified){var l=b(o,a,n.weekStartDay);r=E(l,o)}return t=et({format:s},t,{visible:r}),new _i(o,e,i,t)}}),Si=it.extend({init:function(e,t,n){var i=this;n=n||{},et(n,{min:v(n.min),max:v(n.max),axisCrossingValue:v(n.axisCrossingValues||n.axisCrossingValue)}),n=i.applyDefaults(v(e),v(t),n),it.fn.init.call(i,n)},options:{type:Jt,labels:{dateFormats:wi}},applyDefaults:function(e,n,i){var o=this,a=i.min||e,r=i.max||n,s=i.baseUnit||o.timeUnits(r-a),l=Zn[s],c=b(m(a)-1,s),h=A(m(r)+1,s),u=i.majorUnit?i.majorUnit:t,d=u||nt.ceil(nt.autoMajorUnit(c.getTime(),h.getTime()),l)/l,p=_(c,h,s),g=nt.ceil(p,d),f=g-p,x=W.floor(f/2),v=f-x;return i.baseUnit||delete i.baseUnit,et({baseUnit:s,min:y(c,-x,s),max:y(h,v,s),minorUnit:d/5},i,{majorUnit:d})},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return W.floor(_(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t,n=this,i=n.options,o=i.vertical,a=i.reverse,r=n.lineBox(),s=o?r.height():r.width(),l=_(i.min,i.max,i.baseUnit),c=s/l,h=e*c,u=n.getDivisions(e),d=(o?-1:1)*(a?-1:1),p=1===d?1:2,g=r[(o?ui:hi)+p],f=[];for(t=0;u>t;t++)f.push(Pt(g,Kt)),g+=h*d;return f},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t){return ut.fn.getSlot.call(this,v(e),v(t))},getValue:function(e){var t=ut.fn.getValue.call(this,e);return null!==t?v(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var n=this.options,i=e*n.majorUnit,o=y(n.min,i,n.baseUnit),a=t.dateFormats[n.baseUnit];return t.format=t.format||a,new _i(o,e,null,t)},timeUnits:function(e){var t=gn;return e>=Jn?t=di:e>=$n?t=_n:e>=Qn?t=li:e>=Kn&&(t=en),t}}),Ti=lt.extend({init:function(e){var t=this;lt.fn.init.call(t,e)},options:{vertical:!1,gap:0,spacing:0},reflow:function(e){var t,n,i=this,o=i.options,a=o.vertical,r=a?ui:hi,s=i.children,l=o.gap,c=o.spacing,h=s.length,u=h+l+c*(h-1),d=(a?e.height():e.width())/u,p=e[r+1]+d*(l/2);for(n=0;h>n;n++)t=(s[n].box||e).clone(),t[r+1]=p,t[r+2]=p+d,s[n].reflow(t),h-1>n&&(p+=d*c),p+=d}}),Ii=lt.extend({init:function(e){var t=this;lt.fn.init.call(t,e)},options:{vertical:!0,isReversed:!1},reflow:function(e){var t,n,i=this,o=i.options,a=o.vertical,r=a?hi:ui,s=a?ui:hi,l=e[s+2],c=i.children,h=i.box=new rt,u=c.length;for(t=o.isReversed?a?Ht:yn:a?ei:zn,n=0;u>n;n++){var d=c[n],p=d.box.clone();p.snapTo(e,r),d.options&&(d.options.stackBase=l),0===n?h=i.box=p.clone():p.alignTo(c[n-1].box,t),d.reflow(p),h.wrap(p)}}}),Di={click:function(t,n){var i=this;t.trigger(Wn,{value:i.value,category:i.category,series:i.series,dataItem:i.dataItem,element:e(n.target)})},hover:function(t,n){var i=this;t.trigger(Xn,{value:i.value,category:i.category,series:i.series,dataItem:i.dataItem,element:e(n.target)})}},Vi=lt.extend({init:function(e,t){var n=this;lt.fn.init.call(n,t),n.value=e,n.options.id=Tt(),n.enableDiscovery()},options:{color:ci,border:{width:1},vertical:!0,overlay:{gradient:pn},aboveAxis:!0,labels:{visible:!1},animation:{type:Et},opacity:1},render:function(){var e,t=this,n=t.value,i=t.options,o=i.labels,a=n;t._rendered||(t._rendered=!0,o.visible&&n&&(o.template?(e=Z(o.template),a=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(a=wt(o.format,a)),t.append(new Ai(a,et({vertical:i.vertical,id:Tt()},i.labels)))))},reflow:function(e){this.render();var t=this,n=t.options,i=t.children,o=i[0];t.box=e,o&&(o.options.aboveAxis=n.aboveAxis,o.reflow(e))},getViewElements:function(e){var t=this,n=t.options,i=n.vertical,o=n.border.width>0?{stroke:t.getBorderColor(),strokeWidth:n.border.width,dashType:n.border.dashType}:{},a=t.box,r=et({id:n.id,fill:n.color,fillOpacity:n.opacity,strokeOpacity:n.opacity,vertical:n.vertical,aboveAxis:n.aboveAxis,stackBase:n.stackBase,animation:n.animation,data:{modelId:n.modelId}},o),s=[];return a.width()>0&&a.height()>0&&(n.overlay&&(r.overlay=et({rotation:i?0:90},n.overlay)),s.push(e.createRect(a,r))),yt(s,lt.fn.getViewElements.call(t,e)),s},highlightOverlay:function(e,t){var n=this,i=n.box;return t=et({data:{modelId:n.options.modelId}},t),e.createRect(i,t)},getBorderColor:function(){var e=this,t=e.options,n=t.color,i=t.border,o=i.color,a=i._brightness||zt;return bt(o)||(o=new ct(n).brightness(a).toHex()),o},tooltipAnchor:function(e,t){var n,i,o=this,a=o.options,r=o.box,s=a.vertical,l=a.aboveAxis;return s?(n=r.x2+ni,i=l?r.y1:r.y2-t):a.isStacked?(n=r.x2-e,i=r.y1-t-ni):(n=r.x2+ni,i=r.y1),new dt(n,i)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});et(Vi.fn,Di);var Bi=lt.extend({init:function(e,t){var n=this;lt.fn.init.call(n,t),n.plotArea=e,n.categoryAxis=e.seriesCategoryAxis(t.series[0]),n.valueAxisRanges={},n.points=[],n.categoryPoints=[],n.seriesPoints=[],n.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var e=this;e.traverseDataPoints(j(e.addValue,e))},addValue:function(e,t,n,i,o){var a,r=this,s=e.value,l=r.categoryPoints[n],c=r.seriesPoints[o];l||(r.categoryPoints[n]=l=[]),c||(r.seriesPoints[o]=c=[]),r.updateRange(s,n,i),a=r.createPoint(e,t,n,i,o),a&&(a.category=t,a.series=i,a.seriesIx=o,a.owner=r,a.dataItem=i.data[n]),r.points.push(a),c.push(a),l.push(a)},updateRange:function(e,t,n){var i=this,o=n.axis,a=i.valueAxisRanges[o];bt(e)&&!isNaN(e)&&(a=i.valueAxisRanges[o]=a||{min:An,max:kn},a.min=W.min(a.min,e),a.max=W.max(a.max,e))},seriesValueAxis:function(e){var t=this.plotArea,n=e.axis,i=n?t.namedValueAxes[n]:t.valueAxis;if(!i)throw Error("Unable to locate value axis with name "+n);return i},reflow:function(e){var t,n,i,o=this,a=o.options,r=a.invertAxes,s=0,l=o.categorySlots=[],c=o.points,h=o.categoryAxis;o.traverseDataPoints(function(e,a,u,d){var p=e.value;t=o.seriesValueAxis(d),n=o.categoryAxisCrossingValue(t),i=c[s++],i&&i.plotValue&&(p=i.plotValue);var g=o.categorySlot(h,u,t),f=o.valueSlot(t,p,n),x=r?f:g,v=r?g:f,m=new rt(x.x1,v.y1,x.x2,v.y2),y=t.options.reverse?n>p:p>=n;i&&(i.options.aboveAxis=y,i.reflow(m)),l[u]||(l[u]=g)}),o.reflowCategories(l),o.box=e},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,n=e.options,i=[].concat(n.axisCrossingValues||n.axisCrossingValue);return i[t.axisIndex||0]||0},reflowCategories:function(){},valueSlot:function(e,t,n){return e.getSlot(t,n)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){var t,n,i,o,a,r=this,s=r.options,l=s.series,c=r.categoryAxis.options.categories||[],h=g(l),u=r.bindableFields(),d=l.length;for(t=0;h>t;t++)for(n=0;d>n;n++)o=c[t],a=l[n],i=S(a,t,u),e(i,o,t,a,n)},bindableFields:function(){return[]},formatPointValue:function(e,t){return wt(t,e.value)}}),Ri=Bi.extend({init:function(e,t){var n=this;n._groupTotals={},n._groups=[],Bi.fn.init.call(n,e,t)},render:function(){var e=this;Bi.fn.render.apply(e),e.computeAxisRanges()},createPoint:function(e,n,i,o){var a,r,s=this,l=e.value,c=s.options,h=s.children,u=s.options.isStacked,d=et({},o.labels);if(u&&d.position==Vn&&(d.position=vn),a=new Vi(l,et({},{vertical:!c.invertAxes,overlay:o.overlay,labels:d,isStacked:u},o,{color:e.fields.color||t})),r=h[i],r||(r=new Ti({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),s.append(r)),u){var p,g,f=s.getStackWrap(o,r);0===f.children.length?(p=new Ii({vertical:!c.invertAxes}),g=new Ii({vertical:!c.invertAxes,isReversed:!0}),f.append(p,g)):(p=f.children[0],g=f.children[1]),l>0?p.append(a):g.append(a)}else r.append(a);return a},getStackWrap:function(e,t){var n,i,o=t.children,a=e.stack,r=o.length;if(typeof a===jn){for(i=0;r>i;i++)if(o[i]._stackGroup===a){n=o[i];break}}else n=o[0];return n||(n=new lt,n._stackGroup=a,t.append(n)),n},updateRange:function(e,t,n){var i=this,o=i.options.isStacked,a=i.groupTotals(n.stack),r=a.positive,s=a.negative;bt(e)&&(o?p(e>0?r:s,t,e):Bi.fn.updateRange.apply(i,arguments))},computeAxisRanges:function(){var e,t,n=this,a=n.options.isStacked;a&&(e=n.options.series[0].axis,t=n.categoryTotals(),n.valueAxisRanges[e]={min:i(t.negative.concat(0)),max:o(t.positive.concat(0))})},seriesValueAxis:function(e){var t=this,n=t.options;return Bi.fn.seriesValueAxis.call(t,n.isStacked?t.options.series[0]:e)},valueSlot:function(e,t,n){return e.getSlot(t,this.options.isStacked?0:n)},categorySlot:function(e,t,n){var i,o,a=this,r=a.options,s=e.getSlot(t);return r.isStacked&&(o=n.getSlot(0,0),i=r.invertAxes?hi:ui,s[i+1]=s[i+2]=o[i+1]),s},reflow:function(e){var t=this;t.setStacksDirection(),Bi.fn.reflow.call(t,e)},setStacksDirection:function(){var e,t,n,i,o=this,a=o.options,r=a.series,s=g(r),l=o.children,c=r.length;for(t=0;c>t;t++)for(n=r[t],i=o.seriesValueAxis(n),e=0;s>e;e++){var h=l[e],u=o.getStackWrap(n,h),d=u.children,p=d[0],f=d[1];p&&f&&(p.options.isReversed=i.options.reverse,f.options.isReversed=!i.options.reverse)}},reflowCategories:function(e){var t,n=this,i=n.children,o=i.length;for(t=0;o>t;t++)i[t].reflow(e[t])},groupTotals:function(e){var t=this,n=typeof e===jn?e:"default",i=t._groupTotals[n];return i||(i=t._groupTotals[n]={positive:[],negative:[]},t._groups.push(n)),i},categoryTotals:function(){var e,t,n,i=this,o=i._groups,a=i._groupTotals,r={positive:[],negative:[]},s=o.length;for(n=0;s>n;n++)e=o[n],t=a[e],yt(r.positive,t.positive),yt(r.negative,t.negative);return r},bindableFields:function(){return["color"]}}),Li=st.extend({init:function(e){var t=this;st.fn.init.call(t,e)},options:{type:Xt,align:Yt,vAlign:Yt},getViewElements:function(e,t){var n,i,o=this,a=o.options,r=a.type,s=o.paddingBox,l=s.width()/2;return a.visible&&o.hasBox()?(i=et(o.elementStyle(),t),n=r===oi?e.createPolyline([new dt(s.x1+l,s.y1),new dt(s.x1,s.y2),new dt(s.x2,s.y2)],!0,i):r===Xt?e.createCircle(new dt(Pt(s.x1+l,Kt),Pt(s.y1+s.height()/2,Kt)),l,i):e.createRect(s,i),[n]):[]}}),Ei=lt.extend({init:function(e,t){var n=this;lt.fn.init.call(n,t),n.value=e,n.options.id=Tt(),n.enableDiscovery()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:ci,size:bn,type:Xt,border:{width:2},opacity:1},labels:{visible:!1,position:Dt,margin:At(3),padding:At(4),animation:{type:dn,delay:fn}}},render:function(){var e=this,t=e.options,n=t.markers,i=t.labels,o=n.background,a=et({},n.border),r=e.value;
if(!e._rendered&&(e._rendered=!0,bt(a.color)||(a.color=new ct(o).brightness(zt).toHex()),e.marker=new Li({id:e.options.id,visible:n.visible&&n.size,type:n.type,width:n.size,height:n.size,background:o,border:a,opacity:n.opacity,zIndex:n.zIndex,animation:n.animation}),e.append(e.marker),i.visible)){if(i.template){var s=Z(i.template);r=s({dataItem:e.dataItem,category:e.category,value:e.value,series:e.series})}else i.format&&(r=e.formatValue(i.format));e.label=new xt(r,et({id:Tt(),align:Yt,vAlign:Yt,margin:{left:5,right:5}},i)),e.append(e.label)}},markerBox:function(){return this.marker.box},reflow:function(e){var t,n=this,i=n.options,o=i.vertical,a=i.aboveAxis;n.render(),n.box=e,t=e.clone(),o?a?t.y1-=t.height():t.y2+=t.height():a?t.x1+=t.width():t.x2-=t.width(),n.marker.reflow(t),n.reflowLabel(t)},reflowLabel:function(e){var t=this,n=t.options,i=t.marker,o=t.label,a=n.labels.position;o&&(a=a===Dt?ei:a,a=a===Ot?Ht:a,o.reflow(e),o.box.alignTo(i.box,a),o.reflow(o.box))},highlightOverlay:function(e,t){var n=this,i=n.marker;return t=et({data:{modelId:n.options.modelId}},t),i.getViewElements(e,et(t,{fill:i.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(e,t){var n=this,i=n.marker.box,o=n.options.aboveAxis;return new dt(i.x2+ni,o?i.y1-t:i.y2)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});et(Ei.fn,Di);var zi=Ei.extend({init:function(e,t){var n=this;Ei.fn.init.call(n,e,t),n.category=e.category},options:{labels:{position:Yt},highlight:{opacity:1,border:{width:1}}},highlightOverlay:function(e){var t=this,n=t.options,i=n.highlight,o=i.border.width,a=n.markers,r=t.box.center(),s=a.size/2-o/2,l=new ct(a.background).brightness(zt).toHex();return e.createCircle(r,s,{data:{modelId:t.options.modelId},stroke:l,strokeWidth:o})},toggleHighlight:function(e){var n=this,i=n.options.highlight.opacity;n.highlighted=!n.highlighted;var o=n.marker.getViewElements(e,{fillOpacity:n.highlighted?i:t})[0];o.refresh(G.getElementById(this.options.id))}}),Oi=lt.extend({init:function(e,t,n){var i=this;lt.fn.init.call(i),i.linePoints=e,i.series=t,i.seriesIx=n,i.options.id=Tt(),i.enableDiscovery()},options:{},points:function(e){var t,n,i=this,o=i.linePoints.concat(e||[]),a=[],r=o.length;for(t=0;r>t;t++)n=o[t].markerBox().center(),a.push(new dt(n.x,n.y));return a},getViewElements:function(e){var t=this,n=t.series;return lt.fn.getViewElements.call(t,e),[e.createPolyline(t.points(),!1,{id:t.options.id,stroke:n.color,strokeWidth:n.width,strokeOpacity:n.opacity,fill:"",dashType:n.dashType,data:{modelId:t.options.modelId},zIndex:-1})]},aliasFor:function(e,t){var n=this,i=n.seriesIx;return n.parent.getNearestPoint(t.x,t.y,i)}}),Ui={renderSegments:function(){var e,t,n,i,o,a,r,s=this,l=s.options,c=l.series,h=s.seriesPoints,u=h.length,d=[];for(t=0;u>t;t++){for(n=h[t],r=n.length,e=c[t],i=[],a=0;r>a;a++)o=n[a],o?i.push(o):s.seriesMissingValues(e)!==mn&&(i.length>1&&d.push(s.createSegment(i,e,t,_t(d))),i=[]);i.length>1&&d.push(s.createSegment(i,e,t,_t(d)))}s._segments=d,s.append.apply(s,d)},seriesMissingValues:function(e){var t=e.missingValues,n=!t&&this.options.isStacked;return n?pi:t},createSegment:function(e,t,n){return new Oi(e,t,n)},getNearestPoint:function(e,t,n){var i,o,a,r,s,l=this,c=l.options.invertAxes,h=c?ui:hi,u=c?t:e,d=l.seriesPoints[n],p=An,g=d.length;for(s=0;g>s;s++)i=d[s],i&&bt(i.value)&&null!==i.value&&(o=i.box,a=W.abs(o.center()[h]-u),p>a&&(r=i,p=a));return r}},Hi=Bi.extend({init:function(e,t){var n=this;n._stackAxisRange={min:An,max:kn},n._categoryTotals=[],n.enableDiscovery(),Bi.fn.init.call(n,e,t)},render:function(){var e=this;Bi.fn.render.apply(e),e.computeAxisRanges(),e.renderSegments()},createPoint:function(e,t,n,i){var o,a=this,r=e.value,s=a.options,l=s.isStacked,c=a.categoryPoints[n],h=a.seriesMissingValues(i),u=0,d=e.fields;if(!bt(r)||null===r){if(h!==pi)return null;r=0}var p=new Ei(r,et({vertical:!s.invertAxes,markers:{border:{color:i.color}}},i,{color:d.color,markers:{border:{color:d.color}}}));return l&&(o=z(c),o&&(u=o.plotValue),p.plotValue=r+u),a.append(p),p},updateRange:function(e,t){var n,i=this,o=i.options.isStacked,r=i._stackAxisRange,s=i._categoryTotals;bt(e)&&(o?(p(s,t,e),n=a(s),r.min=W.min(r.min,n.min),r.max=W.max(r.max,n.max)):Bi.fn.updateRange.apply(i,arguments))},computeAxisRanges:function(){var e,t=this,n=t.options.isStacked;n&&(e=t.options.series[0].axis,t.valueAxisRanges[e]=t._stackAxisRange)},getViewElements:function(e){var t=this,n=Bi.fn.getViewElements.call(t,e),i=e.createGroup({animation:{type:Gt}});return i.children=n,[i]},bindableFields:function(){return["color"]}});et(Hi.fn,Ui);var Mi=Oi.extend({init:function(e,t,n,i){var o=this;o.stackPoints=t,Oi.fn.init.call(o,e,n,i)},points:function(){var e,t,n=this,i=n.parent,o=i.options.isStacked&&n.seriesIx>0,a=i.plotArea,r=i.options.invertAxes,s=i.seriesValueAxis(n.series),l=s.lineBox(),c=a.seriesCategoryAxis(n.series),h=c.lineBox(),u=r?h.x1:h.y1,d=n.stackPoints,p=Oi.fn.points.call(n,d);return u=r?B(u,l.x1,l.x2):B(u,l.y1,l.y2),!o&&p.length>1&&(e=p[0],t=_t(p),r?(p.unshift(new dt(u,e.y)),p.push(new dt(u,t.y))):(p.unshift(new dt(e.x,u)),p.push(new dt(t.x,u)))),p},getViewElements:function(e){var t=this,n=t.series,i=et({color:n.color,opacity:n.opacity},n.line),o=Oi.fn.points.call(t),a=t.points();return lt.fn.getViewElements.call(t,e),[e.createPolyline(a,!1,{id:t.options.id,fillOpacity:n.opacity,fill:n.color,stack:n.stack,data:{modelId:t.options.modelId},zIndex:-1}),e.createPolyline(o,!1,{id:t.options.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,dashType:i.dashType,data:{modelId:t.options.modelId},strokeLineCap:"butt",zIndex:-1})]}}),Ni=Hi.extend({createSegment:function(e,t,n,i){var o,a=this,r=a.options;return r.isStacked&&n>0&&i&&(o=i.linePoints.slice(0).reverse()),new Mi(e,o,t,n)},seriesMissingValues:function(e){return e.missingValues||pi}}),Fi=lt.extend({init:function(e,t){var n=this;lt.fn.init.call(n,t),n.plotArea=e,n.xAxisRanges={},n.yAxisRanges={},n.points=[],n.seriesPoints=[],n.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var e=this;e.traverseDataPoints(j(e.addValue,e))},addValue:function(e,t){var n,i=this,o=e.x,a=e.y,r=t.seriesIx,s=i.seriesPoints[r];i.updateRange(e,t.series),bt(o)&&null!==o&&bt(a)&&null!==a&&(n=i.createPoint(e,t.series,r,t),n&&X(n,t)),i.points.push(n),s.push(n)},updateRange:function(e,t){var n=this,i=e.x,o=e.y,a=t.xAxis,r=t.yAxis,s=n.xAxisRanges[a],l=n.yAxisRanges[r];bt(i)&&null!==i&&(s=n.xAxisRanges[a]=s||{min:An,max:kn},s.min=W.min(s.min,i),s.max=W.max(s.max,i)),bt(o)&&null!==o&&(l=n.yAxisRanges[r]=l||{min:An,max:kn},l.min=W.min(l.min,o),l.max=W.max(l.max,o))},createPoint:function(e,t,n,i){var o,a=this;return o=new Ei(e,et({markers:{border:{color:t.color},opacity:t.opacity},tooltip:{format:a.options.tooltip.format},labels:{format:a.options.labels.format}},t,{color:i.color,markers:{border:{color:i.color}}})),a.append(o),o},seriesAxes:function(e){var t=this.plotArea,n=e.xAxis,i=n?t.namedXAxes[n]:t.axisX,o=e.yAxis,a=o?t.namedYAxes[o]:t.axisY;if(!i)throw Error("Unable to locate X axis with name "+n);if(!a)throw Error("Unable to locate Y axis with name "+o);return{x:i,y:a}},reflow:function(e){var t,n,i=this,o=i.points,a=0;i.traverseDataPoints(function(e,r){t=o[a++],n=i.seriesAxes(r.series);var s=n.x.getSlot(e.x,e.x),l=n.y.getSlot(e.y,e.y),c=new rt(s.x1,l.y1,s.x2,l.y2);t&&t.reflow(c)}),i.box=e},getViewElements:function(e){var t=this,n=lt.fn.getViewElements.call(t,e),i=e.createGroup({animation:{type:Gt}});return i.children=n,[i]},traverseDataPoints:function(e){var t,n,i,o,a,r,s,l=this,c=l.options,h=c.series,u=l.seriesPoints,d=l.bindableFields();for(n=0;h.length>n;n++)for(i=h[n],o=u[n],o||(u[n]=[]),t=0;i.data.length>t;t++)a=S(i,t,d),r=a.value,s=a.fields,e(r,et({pointIx:t,series:i,seriesIx:n,dataItem:i.data[t],owner:l},s))},bindableFields:function(){return["color"]},formatPointValue:function(e,t){var n=e.value;return wt(t,n.x,n.y)}}),Yi=Fi.extend({render:function(){var e=this;Fi.fn.render.call(e),e.renderSegments()}});et(Yi.fn,Ui);var Wi=Fi.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(e,t){var n,i=this,o=t.series,a=o.negativeValues,r=i.plotArea.options.seriesColors||[],s=!0;n=t.color||o.color||r[t.pointIx%r.length],0>e.size&&(n=a.color||n,s=a.visible),t.color=n,s&&Fi.fn.addValue.call(this,e,t)},reflow:function(e){var t=this;t.updateBubblesSize(e),Fi.fn.reflow.call(t,e)},createPoint:function(e,t,n,i){var o,a=this,r=t.data.length,s=i.pointIx*(fn/r),l={delay:s,duration:fn-s,type:Mt};return o=new zi(e,et({tooltip:{format:a.options.tooltip.format},labels:{format:a.options.labels.format,animation:l}},t,{color:i.color,markers:{type:Xt,background:i.color,border:t.border,opacity:t.opacity,animation:l}})),a.append(o),o},updateBubblesSize:function(e){var t,n,i=this,o=i.options,a=o.series,r=W.min(e.width(),e.height());for(t=0;a.length>t;t++){var s=a[t],l=i.seriesPoints[t],c=i.maxSize(l),h=s.minSize||W.max(.02*r,10),u=s.maxSize||.2*r,d=h/2,p=u/2,g=W.PI*d*d,f=W.PI*p*p,x=f-g,v=x/c;for(n=0;l.length>n;n++){var m=l[n],y=W.abs(m.value.size)*v,w=W.sqrt((g+y)/W.PI);et(m.options,{markers:{size:2*w,zIndex:p-w},labels:{zIndex:p-w+1}})}}},maxSize:function(e){var t,n,i=e.length,o=0;for(t=0;i>t;t++)n=e[t].value.size,o=W.max(o,W.abs(n));return o},bindableFields:function(){return["color","category","visibleInLegend"]},getViewElements:function(e){var t=this,n=lt.fn.getViewElements.call(t,e),i=e.createGroup();return i.children=n,[i]},formatPointValue:function(e,t){var n=e.value;return wt(t,n.x,n.y,n.size,e.category)}}),Xi=lt.extend({init:function(e,t){var n=this;lt.fn.init.call(n,t),n.value=e,n.options.id=Tt(),n.enableDiscovery()},options:{border:{},line:{width:2},overlay:{gradient:pn},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"}},reflow:function(e){var t,n,i,o=this,a=o.options,r=o.owner,s=o.value,l=r.seriesValueAxis(a),c=[];n=l.getSlot(s.open,s.close),i=l.getSlot(s.low,s.high),n.x1=i.x1=e.x1,n.x2=i.x2=e.x2,o.realBody=n,t=i.center().x,c.push([new dt(t,i.y1),new dt(t,n.y1)]),c.push([new dt(t,n.y2),new dt(t,i.y2)]),o.lowHighLinePoints=c,o.box=i.clone().wrap(n)},getViewElements:function(e){var t=this,n=t.options,i=[],o=n.border.width>0?{stroke:t.getBorderColor(),strokeWidth:n.border.width,dashType:n.border.dashType,strokeOpacity:bt(n.border.opacity)?n.border.opacity:n.opacity}:{},a=et({id:n.id,fill:t.color,fillOpacity:n.opacity},o),r={id:n.id,strokeOpacity:bt(n.line.opacity)?n.line.opacity:n.opacity,strokeWidth:n.line.width,stroke:n.line.color||t.color,dashType:n.line.dashType,strokeLineCap:"butt"},s=e.createGroup({animation:{type:Gt}});return n.overlay&&(a.overlay=et({rotation:0},n.overlay)),i.push(e.createRect(t.realBody,a)),i.push(e.createPolyline(t.lowHighLinePoints[0],!1,r)),i.push(e.createPolyline(t.lowHighLinePoints[1],!1,r)),i.push(t.createOverlayRect(e,n)),yt(i,lt.fn.getViewElements.call(t,e)),s.children=i,[s]},getBorderColor:function(){var e=this,t=e.options,n=e.color,i=t.border,o=i.color;return bt(o)||(o=new ct(n).brightness(i._brightness).toHex()),o},createOverlayRect:function(e,t){return e.createRect(this.box,{id:t.id,data:{modelId:t.modelId},fill:"#fff",fillOpacity:0})},highlightOverlay:function(e,t){var n=this,i=n.options,o=i.highlight,a=o.border||{},r={data:{modelId:i.modelId}},s=et(r,t,{stroke:n.getBorderColor(),strokeOpacity:a.opacity,strokeWidth:a.width}),l=et(r,{stroke:n.getBorderColor(),strokeWidth:o.line.width,strokeLineCap:"butt"}),c=e.createGroup();return c.children.push(e.createRect(n.realBody,s)),c.children.push(e.createPolyline(n.lowHighLinePoints[0],!1,l)),c.children.push(e.createPolyline(n.lowHighLinePoints[1],!1,l)),c},tooltipAnchor:function(){var e=this,t=e.box;return new dt(t.x2+ni,t.y1+ni)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});et(Xi.fn,Di);var ji=Bi.extend({options:{},bindableFields:function(){return["color","downColor"]},reflowCategories:function(e){var t,n=this,i=n.children,o=i.length;for(t=0;o>t;t++)i[t].reflow(e[t])},addValue:function(e,t,n,i,o){var a,r,s=this,l=s.options,c=e.value,h=s.children,u=e.fields.color||i.color,d=this.splitValue(c),p=H(d);p&&(a=s.createPoint(c,i)),r=h[n],r||(r=new Ti({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing}),s.append(r)),a&&(s.updateRange(c,n,i),r.append(a),i.type==Nt&&c.open>c.close&&(u=e.fields.downColor||i.downColor),a.color=u,a.categoryIx=n,a.category=t,a.series=i,a.seriesIx=o,a.owner=s,a.dataItem=i.data[n]),s.points.push(a)},createPoint:function(e,t){return new Xi(e,t)},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t,n){var i=this,o=n.axis,a=i.valueAxisRanges[o],r=i.splitValue(e);a=i.valueAxisRanges[o]=a||{min:An,max:kn},a=i.valueAxisRanges[o]={min:W.min.apply(W,r.concat([a.min])),max:W.max.apply(W,r.concat([a.max]))}},formatPointValue:function(e,t){var n=e.value;return wt(t,n.open,n.high,n.low,n.close,e.category)}}),Gi=Xi.extend({reflow:function(e){var t,n,i,o,a=this,r=a.options,s=a.owner,l=a.value,c=s.seriesValueAxis(r),h=[],u=[],d=[];o=c.getSlot(l.low,l.high),n=c.getSlot(l.open,l.open),i=c.getSlot(l.close,l.close),n.x1=i.x1=o.x1=e.x1,n.x2=i.x2=o.x2=e.x2,t=o.center().x,h.push(new dt(n.x1,n.y1)),h.push(new dt(t,n.y1)),u.push(new dt(t,i.y1)),u.push(new dt(i.x2,i.y1)),d.push(new dt(t,o.y1)),d.push(new dt(t,o.y2)),a.oPoints=h,a.cPoints=u,a.lhPoints=d,a.box=o.clone().wrap(n.clone().wrap(i))},getViewElements:function(e){var t=this,n=t.options,i=[],o={id:n.id,strokeOpacity:n.opacity,zIndex:-1,strokeWidth:n.width,stroke:t.color,dashType:n.dashType},a=e.createGroup({animation:{type:Gt}});return i.push(t.createOverlayRect(e,n)),i.push(e.createPolyline(t.oPoints,!0,o)),i.push(e.createPolyline(t.cPoints,!0,o)),i.push(e.createPolyline(t.lhPoints,!0,o)),yt(i,lt.fn.getViewElements.call(t,e)),a.children=i,[a]},highlightOverlay:function(e){var t=this,n=t.options,i=n.highlight,o={data:{modelId:n.modelId}},a=et(o,{strokeWidth:i.line.width,strokeOpacity:i.line.opacity,stroke:t.color}),r=e.createGroup();return r.children.push(e.createPolyline(t.oPoints,!0,a)),r.children.push(e.createPolyline(t.cPoints,!0,a)),r.children.push(e.createPolyline(t.lhPoints,!0,a)),r}}),qi=ji.extend({createPoint:function(e,t){return new Gi(e,t)},bindableFields:function(){return["color"]}}),Ki=lt.extend({init:function(e,t,n){var i=this;i.value=e,i.sector=t,i.enableDiscovery(),lt.fn.init.call(i,n)},options:{color:ci,overlay:{gradient:On},border:{width:.5},labels:{visible:!1,distance:35,font:tn,margin:At(.5),align:Xt,zIndex:1,position:Vn},animation:{type:Rn},highlight:{visible:!0,border:{width:1}}},render:function(){var e,t=this,n=t.options,i=n.labels,o=t.value;t._rendered||(t._rendered=!0,i.template?(e=Z(i.template),o=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series,percentage:t.percentage})):i.format&&(o=wt(i.format,o)),i.visible&&o&&(t.label=new xt(o,et({},i,{id:Tt(),align:Yt,vAlign:"",animation:{type:dn,delay:t.animationDelay}})),t.append(t.label)))},reflow:function(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabel:function(){var e,t,n,i,o=this,a=o.sector.clone(),r=o.options,s=o.label,l=r.labels,c=l.distance,h=a.middle();s&&(i=s.box.height(),n=s.box.width(),l.position==Yt?(a.r=W.abs((a.r-i)/2)+i,e=a.point(h),s.reflow(new rt(e.x,e.y-i/2,e.x,e.y))):l.position==vn?(a.r=a.r-i/2,e=a.point(h),s.reflow(new rt(e.x,e.y-i/2,e.x,e.y))):(e=a.clone().expand(c).point(h),e.x>=a.c.x?(t=e.x+n,s.orientation=zn):(t=e.x-n,s.orientation=yn),s.reflow(new rt(t,e.y-i,e.x,e.y))))},getViewElements:function(e){var t=this,n=t.sector,i=t.options,o=i.border||{},a=o.width>0?{stroke:o.color,strokeWidth:o.width,dashType:o.dashType}:{},r=[],s=i.overlay;return s&&(s=et({},i.overlay,{r:n.r,ir:n.ir,cx:n.c.x,cy:n.c.y,bbox:n.getBBox()})),t.value&&r.push(t.createSegment(e,n,et({id:i.id,fill:i.color,overlay:s,fillOpacity:i.opacity,strokeOpacity:i.opacity,animation:et(i.animation,{delay:t.animationDelay}),data:{modelId:i.modelId},zIndex:i.zIndex,singleSegment:1===(t.options.data||[]).length},a))),yt(r,lt.fn.getViewElements.call(t,e)),r},createSegment:function(e,t,n){return n.singleSegment?e.createCircle(t.c,t.r,n):e.createSector(t,n)},highlightOverlay:function(e,t){var n,i=this,o=i.options.highlight||{},a=o.border||{},r=i.options.id+Bn;return t=et({},t,{id:r}),0!==i.value&&(n=i.createSegment(e,i.sector,et({},t,{fill:o.color,fillOpacity:o.opacity,strokeOpacity:a.opacity,strokeWidth:a.width,stroke:a.color,data:{modelId:i.options.modelId}}))),n},tooltipAnchor:function(e,t){var n=this,i=n.sector.clone().expand(15),o=e/2,a=t/2,r=i.middle(),s=r*rn,l=i.point(r),c=l.x-o,h=l.y-a,u=W.sin(s),d=W.cos(s);return.9>W.abs(u)&&(c+=o*-d/W.abs(d)),.9>W.abs(d)&&(h+=a*-u/W.abs(u)),new dt(c,h)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});et(Ki.fn,Di);var Qi=lt.extend({init:function(e,t){var n=this;lt.fn.init.call(n,t),n.plotArea=e,n.segments=[],n.legendItems=[],n.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},render:function(){var e=this;e.traverseDataPoints(j(e.addValue,e))},traverseDataPoints:function(e){var t,n,i,o,a,r,s,l,c,h,u,d,p=this,g=p.options,f=p.plotArea.options.seriesColors||[],x=g.startAngle,v=f.length,m=g.series,y=m.length,w=Tt(),b=p.bindableFields();for(o=0;y>o;o++)for(t=m[o],r=t.data,h=p.pointsTotal(t),s=360/h,u=x,o!=y-1&&t.labels.position==Vn&&(t.labels.position=Yt),d=0;r.length>d;d++)n=S(t,d,b),l=n.value,i=n.fields,a=Pt(l*s,on),c=1!=r.length&&!!i.explode,t.color=i.color||f[d%v],e(l,new gt(null,0,0,u,a),{owner:p,category:i.category||"",categoryIx:d,series:t,seriesIx:o,dataItem:r[d],percentage:l/h,explode:c,visibleInLegend:i.visibleInLegend,overlay:{id:w+o},zIndex:y-o,animationDelay:p.animationDelay(d,o,y)}),u+=a},bindableFields:function(){return["category","color","explode","visibleInLegend"]},addValue:function(e,t,n){var i,o=this;o.createLegendItem(e,n),e&&(i=new Ki(e,t,n.series),i.options.id=Tt(),X(i,n),o.append(i),o.segments.push(i))},createLegendItem:function(e,t){var n,i,o=this,a=(o.options.legend||{}).labels||{};t&&t.visibleInLegend!==!1&&(n=t.category||"",(a||{}).template&&(i=Z(a.template),n=i({text:n,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:e})),o.legendItems.push({name:n,color:t.series.color}))},pointsTotal:function(e){var t,n=e.data,i=n.length,o=0;for(t=0;i>t;t++)o+=S(e,t).value;return o},reflow:function(e){var t,n,i,o,a,r,s,l,c=this,h=c.options,u=e.clone(),d=5,p=W.min(u.width(),u.height()),g=p/2,f=p-.85*p,x=bt(h.padding)?h.padding:f,v=new rt(u.x1,u.y1,u.x1+p,u.y1+p),m=v.center(),y=c.seriesConfigs||[],w=u.center(),b=c.segments,A=b.length,k=h.series.length,C=[],_=[];for(x=x>g-d?g-d:x,v.translate(w.x-m.x,w.y-m.y),r=g-x,l=new dt(r+v.x1+x,r+v.y1+x),s=0;A>s;s++)o=b[s],a=o.sector,a.r=r,a.c=l,n=o.seriesIx,y.length&&(t=y[n],a.ir=t.ir,a.r=t.r),n==k-1&&o.explode&&(a.c=a.clone().radius(.15*a.r).point(a.middle())),o.reflow(v),i=o.label,i&&i.options.position===Vn&&n==k-1&&(i.orientation===zn?_.push(i):C.push(i));C.length>0&&(C.sort(c.labelComparator(!0)),c.leftLabelsReflow(C)),_.length>0&&(_.sort(c.labelComparator(!1)),c.rightLabelsReflow(_)),c.box=v},leftLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},rightLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},distanceBetweenLabels:function(e){var t,n,i,o=this,a=o.segments,r=a[a.length-1],s=r.sector,l=e[0].box,c=e.length-1,h=[],u=s.r+r.options.labels.distance;for(n=Pt(l.y1-(s.c.y-u-l.height()-l.height()/2)),h.push(n),i=0;c>i;i++)l=e[i].box,t=e[i+1].box,n=Pt(t.y1-l.y2),h.push(n);return n=Pt(s.c.y+u-e[c].box.y2-e[c].box.height()/2),h.push(n),h},distributeLabels:function(e,t){var n,i,o,a,r=this,s=e.length;for(a=0;s>a;a++)for(i=o=a,n=-e[a];n>0&&(i>=0||s>o);)n=r._takeDistance(e,a,--i,n),n=r._takeDistance(e,a,++o,n);r.reflowLabels(e,t)},_takeDistance:function(e,t,n,i){if(e[n]>0){var o=W.min(e[n],i);i-=o,e[n]-=o,e[t]+=o}return i},reflowLabels:function(e,t){var n,i,o,a,r=this,s=r.segments,l=s[s.length-1],c=l.sector,h=t.length,u=l.options.labels,d=u.distance,p=c.c.y-(c.r+d)-t[0].box.height();for(e[0]+=2,a=0;h>a;a++)n=t[a],p+=e[a],o=n.box,i=r.hAlignLabel(o.x2,c.clone().expand(d),p,p+o.height(),n.orientation==zn),n.orientation==zn?(u.align!==Xt&&(i=c.r+c.c.x+d),n.reflow(new rt(i+o.width(),p,i,p))):(u.align!==Xt&&(i=c.c.x-c.r-d),n.reflow(new rt(i-o.width(),p,i,p))),p+=o.height()},getViewElements:function(e){var t,n,i,o,a,s,l,c,h=this,u=h.options,d=u.connectors,p=h.segments,g=p.length,f=4,x=[];for(c=0;g>c;c++)if(a=p[c],n=a.sector,i=n.middle(),l=a.label,s={seriesId:a.seriesIx},l&&(o=[],l.options.position===Vn&&0!==a.value)){var v,m,y,w=l.box,b=n.c,A=n.point(i),k=new dt(w.x1,w.center().y);A=n.clone().expand(d.padding).point(i),o.push(A),l.orientation==zn?(m=new dt(w.x1-d.padding,w.center().y),y=r(b,A,k,m),k=new dt(m.x-f,m.y),y=y||k,y.x=W.min(y.x,k.x),h.pointInCircle(y,n.c,n.r+f)||n.c.x>y.x?(v=n.c.x+n.r+f,a.options.labels.align!==qt?k.x>v?o.push(new dt(v,A.y)):o.push(new dt(A.x+2*f,A.y)):o.push(new dt(v,A.y)),o.push(new dt(k.x,m.y))):(y.y=m.y,o.push(y))):(m=new dt(w.x2+d.padding,w.center().y),y=r(b,A,k,m),k=new dt(m.x+f,m.y),y=y||k,y.x=W.max(y.x,k.x),h.pointInCircle(y,n.c,n.r+f)||y.x>n.c.x?(v=n.c.x-n.r-f,a.options.labels.align!==qt?v>k.x?o.push(new dt(v,A.y)):o.push(new dt(A.x-2*f,A.y)):o.push(new dt(v,A.y)),o.push(new dt(k.x,m.y))):(y.y=m.y,o.push(y))),o.push(m),t=e.createPolyline(o,!1,{id:Tt(),stroke:d.color,strokeWidth:d.width,animation:{type:dn,delay:a.animationDelay},data:{modelId:a.options.modelId}}),x.push(t)}return yt(x,lt.fn.getViewElements.call(h,e)),x},labelComparator:function(e){return e=e?-1:1,function(t,n){return t=(t.parent.sector.middle()+270)%360,n=(n.parent.sector.middle()+270)%360,(t-n)*e}},hAlignLabel:function(e,t,n,i,o){var a=t.c.x,r=t.c.y,s=t.r,l=W.min(W.abs(r-n),W.abs(r-i));return l>s?e:a+W.sqrt(s*s-l*l)*(o?1:-1)},pointInCircle:function(e,t,n){return f(n)>f(t.x-e.x)+f(t.y-e.y)},formatPointValue:function(e,t){return wt(t,e.value)},animationDelay:function(e){return e*Ln}}),$i=Ki.extend({options:{overlay:{gradient:Un},labels:{position:Yt},animation:{type:Rn}},reflowLabel:function(){var e,t,n=this,i=n.sector.clone(),o=n.options,a=n.label,r=o.labels,s=i.middle();a&&(t=a.box.height(),r.position==Yt?(i.r-=(i.r-i.ir)/2,e=i.point(s),a.reflow(new rt(e.x,e.y-t/2,e.x,e.y))):Ki.fn.reflowLabel.call(n))},createSegment:function(e,t,n){return e.createRing(t,n)}});et($i.fn,Di);var Ji=Qi.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(e,t,n){var i,o=this;o.createLegendItem(e,n),e&&(i=new $i(e,t,n.series),i.options.id=Tt(),X(i,n),o.append(i),o.segments.push(i))},reflow:function(e){var t,n,i,o,a,r,s=this,l=s.options,c=e.clone(),h=5,u=W.min(c.width(),c.height()),d=u/2,p=u-.85*u,g=bt(l.padding)?l.padding:p,f=l.series,x=f.length,v=0,m=0,y=0,w=0;for(s.seriesConfigs=[],g=g>d-h?d-h:g,i=d-g,a=0;x>a;a++)t=f[a],0===a&&bt(t.holeSize)&&(n=t.holeSize,i-=t.holeSize),bt(t.size)?i-=t.size:v++,bt(t.margin)&&a!=x-1&&(i-=t.margin);for(bt(n)||(w=(d-g)/(x+.75),n=.75*w,i-=n),y=n,a=0;x>a;a++)t=f[a],o=bt(t.size)?t.size:i/v,y+=m,r=y+o,s.seriesConfigs.push({ir:y,r:r}),m=t.margin||0,y=r;Qi.fn.reflow.call(s,e)},animationDelay:function(e,t,n){return e*ln+fn*(t+1)/(n+1)}}),Zi=st.extend({init:function(e){var t=this;st.fn.init.call(t,e),e=t.options,e.id=Tt(),t.title=vt.buildTitle(e.title,t,Zi.fn.options.title),t.content=new lt,t.append(t.content),t.axes=[],t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:yn}},appendAxis:function(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChart:function(e){var t=this;t.charts.push(e),t.content.append(e),e.pane=t},empty:function(){var e,t=this,n=t.parent;if(n){for(e=0;t.axes.length>e;e++)n.removeAxis(t.axes[e]);for(e=0;t.charts.length>e;e++)n.removeChart(t.charts[e])}t.axes=[],t.charts=[],t.content.disableDiscovery(),t.content.children=[]},reflow:function(e){var t=this;_t(t.children)===t.content&&t.children.pop(),st.fn.reflow.call(t,e),t.title&&(t.contentBox.y1+=t.title.box.height())},getViewElements:function(e){var t=this,n=Bi.fn.getViewElements.call(t,e),i=e.createGroup({id:t.options.id});return i.children=n.concat(t.renderGridLines(e),t.content.getViewElements(e)),t.view=e,[i]},renderGridLines:function(e){var t,n,i,o,a,r,s=this,l=s.axes,c=l.concat(s.parent.axes),h=[],u=[];for(n=0;l.length>n;n++)for(o=l[n],a=o.options.vertical,t=a?h:u,i=0;c.length>i;i++)0===t.length&&(r=c[i],a!==r.options.vertical&&yt(t,o.renderGridLines(e,r,o)));return h.concat(u)},refresh:function(){var e=this,t=e.view,n=document.getElementById(e.options.id);t&&n&&n.parentNode.replaceChild(t.renderElement(e.getViewElements(t)[0]),n)}}),eo=lt.extend({init:function(e,t){var n=this;lt.fn.init.call(n,t),n.series=e,n.charts=[],n.options.legend.items=[],n.axes=[],n.options.id=Tt(),n.enableDiscovery(),n.createPanes(),n.render()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:Ut,width:0},legend:{}},createPanes:function(){var e,t,n=this,i=[],o=n.options.panes||[],a=W.max(o.length,1);for(e=0;a>e;e++)t=new Zi(o[e]),t.paneIndex=e,i.push(t),n.append(t);n.panes=i},findPane:function(e){var t,n,i=this,o=i.panes;for(t=0;o.length>t;t++)if(o[t].options.name===e){n=o[t];break}return n||o[0]},findPointPane:function(e){var t,n,i=this,o=i.panes;for(t=0;o.length>t;t++)if(o[t].box.containsPoint(e)){n=o[t];break}return n},appendAxis:function(e){var t=this,n=t.findPane(e.options.pane);n.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxis:function(e){var t,n,i=this,o=[];for(t=0;i.axes.length>t;t++)n=i.axes[t],e!==n&&o.push(n);i.axes=o},appendChart:function(e,t){var n=this;n.charts.push(e),n.addToLegend(e),t?t.appendChart(e):n.append(e)},removeChart:function(e){var t,n,i=this,o=[];for(t=0;i.charts.length>t;t++)n=i.charts[t],n!==e&&o.push(n);i.charts=o},addToLegend:function(e){var t,n,i,o,a=e.options.series,r=a.length,s=[],l=this.options.legend.labels||{};if(e.legendItems)s=e.legendItems;else for(t=0;r>t;t++)n=a[t],n.visibleInLegend!==!1&&(i=n.name||"",l.template&&(o=Z(l.template),i=o({text:i,series:n})),s.push({name:i,color:n.color}));yt(this.options.legend.items,s)},groupAxes:function(e){var t,n,i,o,a=[],r=[];for(i=0;e.length>i;i++)for(t=e[i].axes,o=0;t.length>o;o++)n=t[o],n.options.vertical?r.push(n):a.push(n);return{x:a,y:r,any:a.concat(r)}},groupSeriesByPane:function(){var e,t,n,i=this,o=i.series,a={};for(e=0;o.length>e;e++)n=o[e],t=i.seriesPaneName(n),a[t]?a[t].push(n):a[t]=[n];return a},filterSeriesByType:function(e,t){var n,i,o=[];for(t=[].concat(t),n=0;e.length>n;n++)i=e[n],kt(i.type,t)&&o.push(i);return o},reflow:function(e){var t=this,n=t.options.plotArea,i=t.panes,o=At(n.margin);t.box=e.clone().unpad(o),t.reflowPanes(),t.reflowAxes(i),t.reflowCharts(i)},redraw:function(e){var t,n=this;for(e=[].concat(e),t=0;e.length>t;t++)e[t].empty();for(n.render(e),n.reflowAxes(e),n.reflowCharts(e),t=0;e.length>t;t++)e[t].refresh()},axisCrossingValues:function(e,t){var n,i=e.options,o=[].concat(i.axisCrossingValues||i.axisCrossingValue),a=t.length-o.length,r=o[0]||0;for(n=0;a>n;n++)o.push(r);return o},alignAxisTo:function(e,t,n,i){var o=e.getSlot(n,n),a=e.options.reverse?2:1,r=t.getSlot(i,i),s=t.options.reverse?2:1,l=e.box.translate(r[hi+s]-o[hi+a],r[ui+s]-o[ui+a]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},alignAxes:function(e,t){var n,i,o,a,r=this,s=e[0],l=t[0],c=r.axisCrossingValues(s,t),h=r.axisCrossingValues(l,e),u={},d={},p={},g={};for(a=0;t.length>a;a++)o=t[a],n=o.pane,i=n.options.id,r.alignAxisTo(o,s,h[a],c[a]),Pt(o.lineBox().x1)===Pt(s.lineBox().x1)&&(u[i]&&o.reflow(o.box.alignTo(u[i].box,yn).translate(-o.options.margin,0)),u[i]=o),Pt(o.lineBox().x2)===Pt(s.lineBox().x2)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),r.alignAxisTo(o,s,h[a],c[a]),d[i]&&o.reflow(o.box.alignTo(d[i].box,zn).translate(o.options.margin,0)),d[i]=o),0!==a&&l.pane===o.pane&&o.alignTo(l);for(a=0;e.length>a;a++)o=e[a],n=o.pane,i=n.options.id,r.alignAxisTo(o,l,c[a],h[a]),Pt(o.lineBox().y1)===Pt(l.lineBox().y1)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),r.alignAxisTo(o,l,c[a],h[a]),p[i]&&o.reflow(o.box.alignTo(p[i].box,ei).translate(0,-o.options.margin)),p[i]=o),Pt(o.lineBox().y2,Kt)===Pt(l.lineBox().y2,Kt)&&(g[i]&&o.reflow(o.box.alignTo(g[i].box,Ht).translate(0,o.options.margin)),g[i]=o),0!==a&&o.alignTo(s)},shrinkAxisWidth:function(e){var t,n,i,o=this,a=o.groupAxes(e).any,r=R(a),s=0;for(t=0;e.length>t;t++)n=e[t],n.axes.length>0&&(s=W.max(s,r.width()-n.contentBox.width()));for(t=0;a.length>t;t++)i=a[t],i.options.vertical||i.reflow(i.box.shrink(s,0))},shrinkAxisHeight:function(e){var t,n,i,o,a,r;for(t=0;e.length>t;t++)for(n=e[t],i=n.axes,o=W.max(0,R(i).height()-n.contentBox.height()),a=0;i.length>a;a++)r=i[a],r.options.vertical&&r.reflow(r.box.shrink(0,o))},fitAxes:function(e){var t,n,i,o,a,r,s,l,c=this,h=c.groupAxes(e).any,u=0;for(s=0;e.length>s;s++)if(a=e[s],t=a.axes,n=a.contentBox,t.length>0)for(i=R(t),u=W.max(u,n.x1-i.x1),o=W.max(n.y1-i.y1,n.y2-i.y2),l=0;t.length>l;l++)r=t[l],r.reflow(r.box.translate(0,o));for(s=0;h.length>s;s++)r=h[s],r.reflow(r.box.translate(u,0))},reflowAxes:function(e){var t,n=this,i=n.groupAxes(e);for(t=0;e.length>t;t++)n.reflowPaneAxes(e[t]);i.x.length>0&&i.y.length>0&&(n.alignAxes(i.x,i.y),n.shrinkAxisWidth(e),n.alignAxes(i.x,i.y),n.shrinkAxisHeight(e),n.alignAxes(i.x,i.y),n.fitAxes(e))},reflowPaneAxes:function(e){var t,n=e.axes,i=n.length;if(i>0)for(t=0;i>t;t++)n[t].reflow(e.contentBox)},reflowCharts:function(e){var t,n,i=this,o=i.charts,a=o.length,r=i.box;for(n=0;a>n;n++)t=o[n].pane,(!t||kt(t,e))&&o[n].reflow(r)},reflowPanes:function(){var e,t,n,i,o,a=this,r=a.box,s=a.panes,l=s.length,c=r.height(),h=l,u=0,d=r.y1;for(e=0;l>e;e++)t=s[e],i=t.options.height,t.options.width=r.width(),t.options.height?(i.indexOf&&i.indexOf("%")&&(o=parseInt(i,10)/100,t.options.height=o*r.height()),t.reflow(r.clone()),c-=t.options.height):u++;for(e=0;l>e;e++)t=s[e],t.options.height||(t.options.height=c/u);for(e=0;l>e;e++)t=s[e],n=r.clone().move(r.x1,d),t.reflow(n),h--,d+=t.options.height},backgroundBox:function(){var e,t,n,i,o,a,r=this,s=r.axes,l=s.length;for(n=0;l>n;n++)for(o=s[n],i=0;l>i;i++)a=s[i],o.options.vertical!==a.options.vertical&&(e=o.lineBox().clone().wrap(a.lineBox()),t=t?t.wrap(e):e);return t||r.box},getViewElements:function(e){var t=this,n=t.backgroundBox(),i=t.options,o=i.plotArea,a=o.border||{},r=lt.fn.getViewElements.call(t,e);return yt(r,[e.createRect(n,{fill:o.background,fillOpacity:o.opacity,zIndex:-2,strokeWidth:.1}),e.createRect(n,{id:i.id,data:{modelId:i.modelId},stroke:a.width?a.color:"",strokeWidth:a.width,fill:ci,fillOpacity:0,zIndex:-1,dashType:a.dashType})]),r}}),to=eo.extend({init:function(e,t){var n=this,i=et({},n.options,t);n.namedCategoryAxes={},n.namedValueAxes={},n.valueAxisRangeTracker=new no(i.valueAxis),e.length>0&&(n.invertAxes=kt(e[0].type,[Et,si,ri])),eo.fn.init.call(n,e,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(e){var t=this;e=e||t.panes,t.createCategoryAxes(e),t.aggregateDateSeries(e),t.createCharts(e),t.createValueAxes(e)},removeAxis:function(e){var t=this,n=e.options.name;eo.fn.removeAxis.call(t,e),e instanceof Ci?delete t.namedCategoryAxes[n]:(t.valueAxisRangeTracker.reset(n),delete t.namedValueAxes[n]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createCharts:function(e){var t,n,i,o=this,a=o.groupSeriesByPane();for(t=0;e.length>t;t++)n=e[t],i=a[n.options.name||"default"],i&&(o.createAreaChart(o.filterSeriesByType(i,[Vt,ri]),n),o.createBarChart(o.filterSeriesByType(i,[qt,Et]),n),o.createLineChart(o.filterSeriesByType(i,[wn,si]),n),o.createCandlestickChart(o.filterSeriesByType(i,Nt),n),o.createOHLCChart(o.filterSeriesByType(i,Dn),n))},aggregateDateSeries:function(e){var t,i,o,a,r,s,l,c,h,u,d,p,g,f,x,v,m=this,y=m.srcSeries||m.series,w=[];
for(l=0;y.length>l;l++){if(c=y[l],h=et({},c),t=m.seriesCategoryAxis(c),i=m.findPane(t.options.pane),kt(i,e)&&L(t.options.type,Jt))for(o=t.options.categories,a=t.categoryMap,u=h.data,h.data=d=[],r=0;o.length>r;r++){for(s=a[r],p=[],g=0;s.length>g;g++)f=s[g],x=S(c,f),v=x.value,bt(v)&&p.push(x.value);d[r]=p.length>1?n(p,c):u[s[0]]}w.push(h)}m.srcSeries=y,m.series=w},appendChart:function(e,t){for(var n=this,i=e.options.series,o=n.seriesCategoryAxis(i[0]),a=o.options.categories,r=W.max(0,g(i)-a.length);r--;)a.push("");n.valueAxisRangeTracker.update(e.valueAxisRanges),eo.fn.appendChart.call(n,e,t)},seriesPaneName:function(t){var n=this,i=n.options,o=t.axis,a=[].concat(i.valueAxis),r=e.grep(a,function(e){return e.name===o})[0],s=i.panes||[{}],l=(s[0]||{}).name||"default",c=(r||{}).pane||l;return c},seriesCategoryAxis:function(e){var t=this,n=e.categoryAxis,i=n?t.namedCategoryAxes[n]:t.categoryAxis;if(!i)throw Error("Unable to locate category axis with name "+n);return i},createBarChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new Ri(n,{series:e,invertAxes:n.invertAxes,isStacked:i.stack&&e.length>1,gap:i.gap,spacing:i.spacing});n.appendChart(o,t)}},createLineChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new Hi(n,{invertAxes:n.invertAxes,isStacked:i.stack&&e.length>1,series:e});n.appendChart(o,t)}},createAreaChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new Ni(n,{invertAxes:n.invertAxes,isStacked:i.stack&&e.length>1,series:e});n.appendChart(o,t)}},createOHLCChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new qi(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing});n.appendChart(o,t)}},createCandlestickChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new ji(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing});n.appendChart(o,t)}},axisRequiresRounding:function(e,t){var n,i,o=this,a=o.filterSeriesByType(o.series,[Et,qt,Dn,Nt]);for(n=0;a.length>n;n++)if(i=a[n].categoryAxis||"",i===e||!i&&0===t)return!0},createCategoryAxes:function(e){var t,n,i,o,a,r,s,l,c,h=this,u=h.invertAxes,d=[].concat(h.options.categoryAxis),p=[];for(t=0;d.length>t;t++)if(n=d[t],i=h.findPane(n.pane),kt(i,e)){if(r=n.name,o=n.categories||[],s=o[0]instanceof Date,a=n.type||"",n=et({vertical:u,axisCrossingValue:u?o.length:0},n),h.axisRequiresRounding(r,t)&&(n.justified=!1,n.roundToBaseUnit=!0),l=!a&&s||L(a,Jt)?new Pi(n):new Ci(n),r){if(h.namedCategoryAxes[r])throw Error("Category axis with name "+r+" is already defined");h.namedCategoryAxes[r]=l}l.axisIndex=t,p.push(l),h.appendAxis(l)}c=h.categoryAxis||p[0],h.categoryAxis=c,u?h.axisY=c:h.axisX=c},createValueAxes:function(e){var t,n,i,o,a,r,s,l=this,c=[].concat(l.options.valueAxis),h=l.invertAxes,u={vertical:!h},d=[];for(s=0;c.length>s;s++)if(t=c[s],n=l.findPane(t.pane),kt(n,e)){if(r=t.name,a=l.valueAxisRangeTracker.query(r),i=new ut(a.min,a.max,et({},u,t)),r){if(l.namedValueAxes[r])throw Error("Value axis with name "+r+" is already defined");l.namedValueAxes[r]=i}d.push(i),l.appendAxis(i)}o=l.valueAxis||d[0],l.valueAxis=o,h?l.axisX=o:l.axisY=o},click:function(t,n){var i,o,a,r=this,s=t._eventCoordinates(n),l=new dt(s.x,s.y),c=r.pointPane(l),h=[],u=[];if(c){for(i=c.axes,o=0;i.length>o;o++)a=i[o],a.getValue?O(u,a.getValue(l)):O(h,a.getCategory(l));0===h.length&&O(h,r.categoryAxis.getCategory(l)),h.length>0&&u.length>0&&t.trigger(En,{element:e(n.target),category:V(h),value:V(u)})}},pointPane:function(e){var t,n,i=this,o=i.panes;for(n=0;o.length>n;n++)if(t=o[n],t.contentBox.containsPoint(e))return t}}),no=K.extend({init:function(e){var t=this;t.axisRanges={},t.axisOptions=[].concat(e),t.defaultRange={min:0,max:1}},update:function(e){var t,n,i,o,a,r=this,s=r.axisRanges,l=r.axisOptions,c=l.length;if(e)for(i=0;c>i;i++)o=l[i],a=o.name,t=s[a],n=e[a],n&&(s[a]=t=t||{min:An,max:kn},t.min=W.min(t.min,n.min),t.max=W.max(t.max,n.max))},reset:function(e){delete this.axisRanges[e]},query:function(e){var t=this;return t.axisRanges[e]||et({},t.defaultRange)}}),io=eo.extend({init:function(e,t){var n=this,i=et({},n.options,t);n.namedXAxes={},n.namedYAxes={},n.xAxisRangeTracker=new no(i.xAxis),n.yAxisRangeTracker=new no(i.yAxis),eo.fn.init.call(n,e,t)},options:{xAxis:{},yAxis:{}},render:function(e){var t,n,i,o=this,a=o.groupSeriesByPane();for(e=e||o.panes,t=0;e.length>t;t++)n=e[t],i=a[n.options.name||"default"],i&&(o.createScatterChart(o.filterSeriesByType(i,Hn),n),o.createScatterLineChart(o.filterSeriesByType(i,Mn),n),o.createBubbleChart(o.filterSeriesByType(i,Mt),n));o.createAxes(e)},appendChart:function(e,t){var n=this;n.xAxisRangeTracker.update(e.xAxisRanges),n.yAxisRangeTracker.update(e.yAxisRanges),eo.fn.appendChart.call(n,e,t)},removeAxis:function(e){var t=this,n=e.options.name;eo.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(n),delete t.namedYAxes[n]):(t.xAxisRangeTracker.reset(n),delete t.namedXAxes[n]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},seriesPaneName:function(t){var n=this,i=n.options,o=t.xAxis,a=[].concat(i.xAxis),r=e.grep(a,function(e){return e.name===o})[0],s=t.yAxis,l=[].concat(i.yAxis),c=e.grep(l,function(e){return e.name===s})[0],h=i.panes||[{}],u=h[0].name||"default",d=(r||{}).pane||(c||{}).pane||u;return d},createScatterChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Fi(n,{series:e}),t)},createScatterLineChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Yi(n,{series:e}),t)},createBubbleChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Wi(n,{series:e}),t)},createXYAxis:function(e,t){var n,i,o,a,r,s=this,l=e.name,c=t?s.namedYAxes:s.namedXAxes,h=t?s.yAxisRangeTracker:s.xAxisRangeTracker,u=h.query(l),d=et({},e,{vertical:t}),p=s.series;for(i=0;p.length>i;i++)if(o=p[i],o[t?"yAxis":"xAxis"]==d.name){a=S(o,0).value,r=a[t?"y":"x"]instanceof Date;break}if(n=L(d.type,Jt)||!d.type&&r?new Si(u.min,u.max,d):new ut(u.min,u.max,d),l){if(c[l])throw Error((t?"Y":"X")+" axis with name "+l+" is already defined");c[l]=n}return s.appendAxis(n),n},createAxes:function(e){var t,n=this,i=n.options,o=[].concat(i.xAxis),a=[],r=[].concat(i.yAxis),s=[];N(o,function(){t=n.findPane(this.pane),kt(t,e)&&a.push(n.createXYAxis(this,!1))}),N(r,function(){t=n.findPane(this.pane),kt(t,e)&&s.push(n.createXYAxis(this,!0))}),n.axisX=n.axisX||a[0],n.axisY=n.axisY||s[0]},click:function(t,n){var i,o,a,r,s=this,l=t._eventCoordinates(n),c=new dt(l.x,l.y),h=s.axes,u=h.length,d=[],p=[];for(i=0;u>i;i++)o=h[i],r=o.options.vertical?p:d,a=o.getValue(c),null!==a&&r.push(a);d.length>0&&p.length>0&&t.trigger(En,{element:e(n.target),x:V(d),y:V(p)})}}),oo=eo.extend({render:function(){var e=this,t=e.series;e.createPieChart(t)},createPieChart:function(e){var t=this,n=e[0],i=new Qi(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(i)}}),ao=oo.extend({render:function(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChart:function(e){var t=this,n=e[0],i=new Ji(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(i)}}),ro=ht.extend({options:{easing:"easeOutElastic",duration:fn},setup:function(){var e,t=this.element,n=t.config;t.options.singleSegment&&(n=t),this.endRadius=n.r,e=this.startRadius=n.ir||0,n.r=e},step:function(e){var t=this,n=t.element,i=t.endRadius,o=n.config,a=t.startRadius;n.options.singleSegment&&(o=n),o.r=Ct(a,i,e)}}),so=ht.extend({options:{easing:"easeOutElastic",duration:fn},setup:function(){var e=this.element;e.endRadius=e.radius,e.radius=0},step:function(e){var t=this.element,n=t.endRadius;t.radius=Ct(0,n,e)}}),lo=mt(Et,at),co=mt(Rn,ro),ho=mt(Mt,so),uo=K.extend({init:function(e,t,n){var i=this;i.options=et({},i.options,n),i.view=e,i.viewElement=t},options:{fill:ci,fillOpacity:.2,stroke:ci,strokeWidth:1,strokeOpacity:.2},show:function(e){var t,n,i=this,o=i.view,a=i.viewElement;i.hide(),e.highlightOverlay&&(t=e.highlightOverlay(o,i.options),t&&(n=o.renderElement(t),a.appendChild(n),i.overlayElement=n,i.visible=!0)),e.toggleHighlight&&(e.toggleHighlight(o),i.point=e,i.visible=!0)},hide:function(){var e=this,t=e.overlayElement;t&&(t.parentNode&&t.parentNode.removeChild(t),delete e.overlayElement),e.point&&(e.point.toggleHighlight(e.view),delete e.point),e.visible=!1}}),po=K.extend({init:function(t,n){var i=this;i.options=et({},i.options,n),n=i.options,i.chartElement=t,i.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},i.template=po.template,i.template||(i.template=po.template=St("<div class='"+Qt+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),i.element=e(i.template(i.options)).appendTo(t)},options:{background:Ut,color:ci,border:{width:3},opacity:1,animation:{duration:ti}},show:function(e){var t=this;t.point=e,t.showTimeout=setTimeout(j(t._show,t),ii)},_show:function(){var e,t,n,i,o,a,r=this,s=r.point,l=r.element,c=r.options,h=r.chartPadding;s&&(n=""+s.value,i=et({},r.options,s.options.tooltip),i.template?(t=Z(i.template),n=t({value:s.value,category:s.category,series:s.series,dataItem:s.dataItem,percentage:s.percentage})):i.format&&(n=s.formatValue(i.format)),l.html(n),e=s.tooltipAnchor(l.outerWidth(),l.outerHeight()),o=Pt(e.y+h.top)+"px",a=Pt(e.x+h.left)+"px",r.visible||r.element.css({top:o,left:a}),r.element.css({backgroundColor:i.background,borderColor:i.border.color||s.options.color,font:i.font,color:i.color,opacity:i.opacity,borderWidth:i.border.width}).stop(!0,!0).show().animate({left:a,top:o},c.animation.duration),r.visible=!0)},hide:function(){var e=this;clearTimeout(e.showTimeout),e.visible&&(e.element.fadeOut(),e.point=null,e.visible=!1)}}),go={max:function(e){var t=W.max.apply(W,e);return isNaN(t)?o(e):t},min:function(e){var t=W.min.apply(W,e);return isNaN(t)?i(e):t},sum:function(e){var t,n,i=e.length,o=0;for(t=0;i>t;t++)n=e[t],bt(n)&&!isNaN(n)&&(o+=n);return o},count:function(e){return e.length},avg:function(e){return go.sum(e)/go.count(e)}},fo=Q.extend({init:function(t,n,i){var o,a,r=this,s=t.element,l=n.lineBox(),c=r.getValueAxis(n),h=c.lineBox(),u="."+Qt;Q.fn.init.call(r),r.options=et({},r.options,i),i=r.options,r.chart=t,r.chartElement=s,r.categoryAxis=n,r.valueAxis=c,r.template=fo.template,r.template||(r.template=fo.template=St("<div class='"+Qt+"selector' "+"style='width: #= d.width #px; height: #= d.height #px;"+" top: #= d.offset.top #px; left: #= d.offset.left #px;'>"+"<div class='"+Qt+"mask'></div>"+"<div class='"+Qt+"mask'></div>"+"<div class='"+Qt+"selection'>"+"<div class='"+Qt+"handle "+Qt+"leftHandle'><div></div></div>"+"<div class='"+Qt+"handle "+Qt+"rightHandle'><div></div></div>"+"</div></div>")),a={left:parseInt(s.css("paddingLeft"),10),right:parseInt(s.css("paddingTop"),10)},r.options=et({},{width:l.width(),height:h.height(),padding:a,offset:{left:h.x2+a.left,top:h.y1+a.right},from:i.min,to:i.max},i),r.wrapper=o=e(r.template(r.options)).appendTo(s),r.selection=o.find(u+"selection"),r.leftMask=o.find(u+"mask").first(),r.rightMask=o.find(u+"mask").last(),r.leftHandle=o.find(u+"leftHandle"),r.rightHandle=o.find(u+"rightHandle"),r.options.selection={border:{left:parseFloat(r.selection.css("border-left-width"),10),right:parseFloat(r.selection.css("border-right-width"),10)}},r.leftHandle.css("top",(r.selection.height()-r.leftHandle.height())/2),r.rightHandle.css("top",(r.selection.height()-r.rightHandle.height())/2),r.move(i.from,i.to),r.bind(r.events,r.options),r.wrapper[0].style.cssText=r.wrapper[0].style.cssText,q.UserEvents?r.userEvents=new q.UserEvents(r.wrapper,{global:!0,threshold:5,stopPropagation:!0,multiTouch:!0,start:j(r._start,r),move:j(r._move,r),end:j(r._end,r),tap:j(r._tap,r),gesturestart:j(r._gesturechange,r),gesturechange:j(r._gesturechange,r)}):r.leftHandle.add(r.rightHandle).removeClass(Qt+"handle")},events:[Nn,Fn,Yn],options:{min:kn,max:An},_start:function(t){var n=this,i=n.options,o=e(t.event.target);!n._state&&o&&(n.chart._unsetActivePoint(),n._state={moveTarget:o.parents(".k-handle").add(o).first(),startLocation:t.x.location,range:{from:i.from,to:i.to}},n.trigger(Nn))},_move:function(e){if(this._state){var t=this,n=t._state,i=t.options,o=i.max-i.min,a=n.startLocation-e.x.location,r=n.range,s=r.to-r.from,l=n.moveTarget,c=t.wrapper.width()/o,h=W.round(a/c);l&&(e.preventDefault(),l.is(".k-selection")?(r.from=W.min(W.max(i.min,i.from-h),i.max-s),r.to=W.min(r.from+s,i.max)):l.is(".k-leftHandle")?(r.from=W.min(W.max(i.min,i.from-h),i.max-1),r.to=W.max(r.from+1,r.to)):l.is(".k-rightHandle")&&(r.to=W.min(W.max(i.min+1,i.to-h),i.max),r.from=W.min(r.to-1,r.from)),t.move(r.from,r.to),t.trigger(Fn,{from:r.from,to:r.to}))}},_end:function(){var e=this,t=e._state.range;delete e._state,e.set(t.from,t.to),e.trigger(Yn)},_gesturechange:function(e){if(this._state){var t=this,n=t.chart,i=t._state,o=t.options,a=t.categoryAxis,r=i.range,s=n._toModelCoordinates(e.touches[0].x.location).x,l=n._toModelCoordinates(e.touches[1].x.location).x,c=W.min(s,l),h=W.max(s,l);e.preventDefault(),i.moveTarget=null,r.from=a.getCategoryIndex(new nt.Point2D(c))||o.min,r.to=a.getCategoryIndex(new nt.Point2D(h))||o.max,t.move(r.from,r.to)}},_tap:function(e){var t,n,i=this,o=i.options,a=i.chart._eventCoordinates(e),r=i.categoryAxis,s=r.getCategoryIndex(new nt.Point2D(a.x,r.box.y1)),l=o.to-o.from,c=o.from+l/2,h=W.round(c-s);i._state||(e.preventDefault(),i.chart._unsetActivePoint(),t=W.min(W.max(o.min,o.from-h),o.max-l),n=W.min(t+l,o.max),i.set(t,n),i.trigger(Yn))},move:function(e,t){var n,i,o,a,r=this,s=r.options,l=s.offset,c=s.padding,h=s.selection.border,u=r.categoryAxis;o=u.getSlot(e),n=Pt(o.x1-l.left+c.left),r.leftMask.width(n),r.selection.css("left",n),o=u.getSlot(t),i=Pt(s.width-(o.x1-l.left+c.left)),r.rightMask.width(i),a=s.width-i,a!=s.width&&(a+=h.right),r.rightMask.css("left",a),r.selection.width(W.max(s.width-(n+i)-h.right,0))},set:function(e,t){var n=this,i=n.options;e=B(e,i.min,i.max),t=B(t,e+1,i.max),n.move(e,t),i.from=e,i.to=t},expandLeft:function(e){var t=this,n=t.options;t.set(W.min(n.from-e,n.to-1),n.to)},getValueAxis:function(e){var t,n,i=e.pane.axes,o=i.length;for(t=0;o>t;t++)if(n=i[t],n.options.vertical!==e.options.vertical)return n}});X(e.easing,{easeOutElastic:function(e,t,n,i){var o=1.70158,a=0,r=i;return 0===e?n:1===e?n+i:(a||(a=.5),W.abs(i)>r?(r=i,o=a/4):o=a/(2*W.PI)*W.asin(i/r),r*W.pow(2,-10*e)*W.sin((1*e-o)*1.1*W.PI/a)+i+n)}}),x.cache={},nt.ui.plugin(bi),et(nt,{Aggregates:go,AreaChart:Ni,Bar:Vi,BarAnimationDecorator:lo,BarChart:Ri,BarLabel:Ai,BubbleAnimationDecorator:ho,BubbleChart:Wi,CandlestickChart:ji,Candlestick:Xi,CategoricalPlotArea:to,CategoryAxis:Ci,ClusterLayout:Ti,DateCategoryAxis:Pi,DateValueAxis:Si,DonutChart:Ji,DonutPlotArea:ao,DonutSegment:$i,Highlight:uo,Legend:ki,LineChart:Hi,LinePoint:Ei,Pane:Zi,PieAnimation:ro,PieAnimationDecorator:co,PieChart:Qi,PiePlotArea:oo,PieSegment:Ki,ScatterChart:Fi,ScatterLineChart:Yi,Selection:fo,ShapeElement:Li,StackLayout:Ii,Tooltip:po,OHLCChart:qi,OHLCPoint:Gi,XYPlotArea:io,addDuration:y,axisGroupBox:R,validNumbers:H,bindPoint:S,categoriesCount:g,ceilDate:A,duration:_,floorDate:b,lteDateIndex:U,toDate:v,toTime:m})})(window.kendo.jQuery);